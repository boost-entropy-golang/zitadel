{"sections":[{"html":"<div style=\"display: flex; align-items: center;\">\n    <img src=\"logos/zitadel-logo-solo-darkdesign.svg\" height=\"160px\" alt=\"zitadel\"/>\n    <i style=\"font-size: 40px; height: 40px;  margin: 0 15px;\" class=\"las la-plus\"></i>\n    <img src=\"tech/oauth2-proxy.svg\" height=\"200px\" alt=\"oauth2-proxy\"/>\n</div>\n\n\n\t\t\t\t\t<h3>\n\t\t\t\t\t\t<span id=\"OAuth2_Proxy_Project\" class=\"offset-anchor\" ></span>\n\t\t\t\t\t\t<a href=\"oauth2-proxy#OAuth2_Proxy_Project\" class=\"anchor\" aria-hidden=\"true\"><i class=\"las la-link\"></i></a>\n\t\t\t\t\t\tOAuth2 Proxy Project\n\t\t\t\t\t</h3><p><a href=\"https://github.com/oauth2-proxy/oauth2-proxy\" target=\"_blank\">OAuth2-proxy</a> is a project which allows services to delegate the authentication flow to a IDP, for example <strong>ZITADEL</strong></p>\n","metadata":{"title":"OAuth 2.0 Proxy"},"subsections":[{"slug":"OAuth2_Proxy_Project","title":"OAuth2 Proxy Project","level":3}],"slug":"OAuth_2_0_Proxy","file":"00-overview.md"},{"html":"\n\t\t\t\t\t<h3>\n\t\t\t\t\t\t<span id=\"Setup_Application_and_get_Keys\" class=\"offset-anchor\" ></span>\n\t\t\t\t\t\t<a href=\"oauth2-proxy#Setup_Application_and_get_Keys\" class=\"anchor\" aria-hidden=\"true\"><i class=\"las la-link\"></i></a>\n\t\t\t\t\t\tSetup Application and get Keys\n\t\t\t\t\t</h3><p>Before we can start building our application we have do do a few configuration steps in ZITADEL Console.\nYou will need to provide some information about your app. We recommend creating a new app to start from scratch. Navigate to your <a href=\"https://console.zitadel.ch/projects\" target=\"_blank\">Project</a> and add a new application at the top of the page.\nSelect Web Application and continue.\nWe recommend that you use <a href=\"architecture#Authorization_Code\">Authorization Code</a> for the OAuth 2.0 Proxy.</p>\n<blockquote>\n<p>Make sure Authentication Method is set to <code>BASIC</code> and the Application Type is set to <code>Web</code>.</p>\n</blockquote>\n\n\t\t\t\t\t<h4>\n\t\t\t\t\t\t<span id=\"Redirect_URLs\" class=\"offset-anchor\" ></span>\n\t\t\t\t\t\t<a href=\"oauth2-proxy#Redirect_URLs\" class=\"anchor\" aria-hidden=\"true\"><i class=\"las la-link\"></i></a>\n\t\t\t\t\t\tRedirect URLs\n\t\t\t\t\t</h4><p>A redirect URL is a URL in your application where ZITADEL redirects the user after they have authenticated. Set your url to the domain the proxy will be deployed to or use the default one <code>http://127.0.0.1:4180/oauth2/callback</code>.</p>\n<blockquote>\n<p>If you are following along with the sample project you downloaded from our templates, you should set the Allowed Callback URL to <a href=\"http://localhost:4200/auth/callback\" target=\"_blank\" title=\"undefined\">http://localhost:4200/auth/callback</a>. You will also have to set dev mode to <code>true</code> as this will enable unsecure http for the moment.</p>\n</blockquote>\n<p>If you want to redirect the users back to a route on your application after they have logged out, add an optional redirect in the post redirectURI field.</p>\n<p>Continue and Create the application.</p>\n\n\t\t\t\t\t<h4>\n\t\t\t\t\t\t<span id=\"Client_ID_and_Secret\" class=\"offset-anchor\" ></span>\n\t\t\t\t\t\t<a href=\"oauth2-proxy#Client_ID_and_Secret\" class=\"anchor\" aria-hidden=\"true\"><i class=\"las la-link\"></i></a>\n\t\t\t\t\t\tClient ID and Secret\n\t\t\t\t\t</h4><p>After successful app creation a popup will appear showing you your clientID as well as a secret.\nCopy your client ID and Secrets as it will be needed in the next step.</p>\n<blockquote>\n<p>Note: You will be able to regenerate the secret at a later time if you loose it.</p>\n</blockquote>\n","metadata":{"title":"Configure Zitadel"},"subsections":[{"slug":"Setup_Application_and_get_Keys","title":"Setup Application and get Keys","level":3},{"slug":"Redirect_URLs","title":"Redirect URLs","level":4},{"slug":"Client_ID_and_Secret","title":"Client ID and Secret","level":4}],"slug":"Configure_Zitadel","file":"01-configure-zitadel.md"},{"html":"\n\t\t\t\t\t<h3>\n\t\t\t\t\t\t<span id=\"Authentication_Example\" class=\"offset-anchor\" ></span>\n\t\t\t\t\t\t<a href=\"oauth2-proxy#Authentication_Example\" class=\"anchor\" aria-hidden=\"true\"><i class=\"las la-link\"></i></a>\n\t\t\t\t\t\tAuthentication Example\n\t\t\t\t\t</h3><div class=''><pre class='language-undefined'><code><span class=\"hljs-attr\">provider</span> = <span class=\"hljs-string\">&quot;oidc&quot;</span>\n<span class=\"hljs-attr\">user_id_claim</span> = <span class=\"hljs-string\">&quot;sub&quot;</span> <span class=\"hljs-comment\">#uses the subject as ID instead of the email</span>\n<span class=\"hljs-attr\">provider_display_name</span> = <span class=\"hljs-string\">&quot;ZITADEL&quot;</span>\n<span class=\"hljs-attr\">redirect_url</span> = <span class=\"hljs-string\">&quot;http://127.0.0.1:4180/oauth2/callback&quot;</span>\n<span class=\"hljs-attr\">oidc_issuer_url</span> = <span class=\"hljs-string\">&quot;https://issuer.zitadel.ch&quot;</span>\n<span class=\"hljs-attr\">upstreams</span> = [\n\t<span class=\"hljs-string\">&quot;https://example.corp.com&quot;</span>\n]\n<span class=\"hljs-attr\">email_domains</span> = [\n\t<span class=\"hljs-string\">&quot;*&quot;</span>\n]\n<span class=\"hljs-attr\">client_id</span> = <span class=\"hljs-string\">&quot;{ZITADEL_GENERATED_CLIENT_ID}&quot;</span>\n<span class=\"hljs-attr\">client_secret</span> = <span class=\"hljs-string\">&quot;{ZITADEL_GENERATED_CLIENT_SECRET}&quot;</span>\n<span class=\"hljs-attr\">pass_access_token</span> = <span class=\"hljs-literal\">true</span>\n<span class=\"hljs-attr\">cookie_secret</span> = <span class=\"hljs-string\">&quot;{SUPPLY_SOME_SECRET_HERE}&quot;</span>\n<span class=\"hljs-attr\">skip_provider_button</span> = <span class=\"hljs-literal\">true</span>\n<span class=\"hljs-attr\">cookie_secure</span> = <span class=\"hljs-literal\">false</span> <span class=\"hljs-comment\">#localdev only false</span>\n<span class=\"hljs-attr\">http_address</span> = <span class=\"hljs-string\">&quot;127.0.0.1:4180&quot;</span> <span class=\"hljs-comment\">#localdev only</span></code></pre></div><blockquote>\n<p>This was tested with version <code>oauth2-proxy v6.1.1 (built with go1.14.2)</code></p>\n</blockquote>\n","metadata":{"title":"OAuth 2.0 Proxy Setup"},"subsections":[{"slug":"Authentication_Example","title":"Authentication Example","level":3}],"slug":"OAuth_2_0_Proxy_Setup","file":"02-configure-proxy.md"},{"html":"\n\t\t\t\t\t<h3>\n\t\t\t\t\t\t<span id=\"What_next\" class=\"offset-anchor\" ></span>\n\t\t\t\t\t\t<a href=\"oauth2-proxy#What_next\" class=\"anchor\" aria-hidden=\"true\"><i class=\"las la-link\"></i></a>\n\t\t\t\t\t\tWhat next?\n\t\t\t\t\t</h3><p>You have successfully integrated ZITADEL in your proxy!</p>\n","metadata":{"title":"Completion"},"subsections":[{"slug":"What_next","title":"What next?","level":3}],"slug":"Completion","file":"03-end.md"}],"seo":""}