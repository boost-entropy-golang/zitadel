<!doctype html> <html class="theme-default typo-default" lang=en> <head> <meta charset=utf-8> <meta content="width=device-width,initial-scale=1" name=viewport> <meta content=#159794 name=theme-color> <base href=/ > <link href=prism.css rel=stylesheet> <link href=manifest.json rel=manifest> <link href=icons/favicon.ico rel=icon type=image/x-icon> <link href=https://maxst.icons8.com/vue-static/landings/line-awesome/line-awesome/1.3.0/css/line-awesome.min.css rel=stylesheet> <link href=default-skin/default-skin.css rel=stylesheet> <link href=photoswipe.css rel=stylesheet> <script src=photoswipe.min.js></script> <script src=photoswipe-ui-default.min.js></script> <link href="https://fonts.googleapis.com/css2?family=Lato&display=swap" rel=stylesheet> <link href=client/client-48e31998.css rel=stylesheet><link href=client/[slug]-f0764356.css rel=stylesheet> <style>.hljs,.hljs-subst{color:#e8eaed}.hljs-comment{color:#999}.hljs-tag{color:#f8b886}.hljs-keyword{color:#ff2069}.hljs-attr{color:#a3acb9}.hljs-number{color:#f8b886}.hljs-deletion,.hljs-quote,.hljs-selector-class,.hljs-selector-id,.hljs-string,.hljs-template-tag,.hljs-type{color:#1ea672}.hljs-section,.hljs-title{color:#1ea672}.hljs-literal{color:#f8b886}.hljs-meta{color:#e8eaed}.hljs-meta-string{color:#e8eaed}</style> <title>ZITADEL Documentation • guide-gtnz-service-users</title> <link href=/client/client.72e3f8d7.js rel=modulepreload as=script crossorigin=use-credentials><link href=/client/client-48e31998.css rel=preload as=style><link href=/client/[slug].6105d5de.js rel=modulepreload as=script crossorigin=use-credentials><link href=/client/inject_styles.5607aec6.js rel=modulepreload as=script crossorigin=use-credentials><link href=/client/[slug]-f0764356.css rel=preload as=style></head> <body> <div id=sapper> <header class="svelte-1h17ogk visible"><nav class=svelte-1h17ogk><a href=. class="svelte-1h17ogk home" title="Zitadel docs" sapper:prefetch><img alt="Zitadel docs" src=logos/zitadel-logo-light.svg class=svelte-1h17ogk> <span class="svelte-1h17ogk docs">DOCS</span></a> <span class="svelte-1h17ogk fill-space"></span> <ul class="svelte-1h17ogk primary"><li><a href=start sapper:prefetch><i class="las la-bars bars"></i>Get started</a></li> <li><a href=quickstarts sapper:prefetch><i class="las la-bars bars"></i>Quickstarts</a></li> <li><a href=guides sapper:prefetch><i class="las la-bars bars"></i>Guides</a></li> <li><a href=apis sapper:prefetch><i class="las la-bars bars"></i>APIs</a></li> <li><a href=architecture sapper:prefetch><i class="las la-bars bars"></i>Architecture</a></li> <li><a href=use sapper:prefetch><i class="las la-bars bars"></i>Manual</a></ul> <span class="svelte-1h17ogk fill-space show-if-desktop"></span> <a href=https://console.zitadel.ch class="svelte-1h17ogk show-if-desktop"><button class=svelte-1h17ogk><span class=svelte-1h17ogk>LOGIN</span></button></a></nav></header> <main class=svelte-ke1jp4> <div class="svelte-him5z6 content listify"><section class=svelte-him5z6 data-id=ZITADEL_Service_Users><h2 class=svelte-him5z6><span class=offset-anchor id=ZITADEL_Service_Users></span> <a href=guide-gtnz-service-users#ZITADEL_Service_Users class=anchor aria-hidden></a> ZITADEL Service Users <small class=svelte-him5z6><a href=https://github.com/caos/zitadel/edit/main/site/docs/guide-gtnz-service-users/00-guide-gtnz-service-users.md class=svelte-him5z6 title="edit this section"><i class="las la-external-link-alt" style=font-size:24px;height:24px><use xlink:href="#las la-external-link-alt"></use></i></a> </small></h2> <table class=table-wrapper> <tr> <td>Description</td> <td>Learn the basics about ZITADEL Service Users, how to set them up and authorize with ZITADEL.</td> </tr> <tr> <td>Learning Outcomes</td> <td> In this module you will: <ul> <li>Learn about Service Users</li> <li>Create a Service User in ZITADEL Console</li> <li>Authorize a Service User with JWT signed with your private key</li> </ul> </td> </tr> <tr> <td>Prerequisites</td> <td> <ul> <li>Knowledge of <a href=/oauth-recommended-flows#Our_recommended_authorization_flows>Recommended Authorization Flows</a></li> </ul> </td> </tr> </table> <h3> <span class=offset-anchor id=Human_vs_Machine></span> <a href=guide-gtnz-service-users#Human_vs_Machine class=anchor aria-hidden=true><i class="las la-link"></i></a> Human vs. Machine </h3><p>ZITADEL supports human an machine users. We call human users simply "Users" and machine users "Service Users".</p> <p>With Service Users you would typically secure backend services. For example in ZITADEL you would require an authenticated Service User to access the Management API. The main difference between human and machine users is the type of credentials that can be used for authentication: Human users typically logon via an login prompt, but Machine users require a non-interactive logon process.</p> <h3> <span class=offset-anchor id=Exercise_Create_a_Service_User></span> <a href=guide-gtnz-service-users#Exercise_Create_a_Service_User class=anchor aria-hidden=true><i class="las la-link"></i></a> Exercise: Create a Service User </h3><ol> <li>Navigate to Service Users</li> <li>Click on <strong>New</strong></li> <li>Enter a user name and a display name</li> </ol> <figure itemprop=associatedMedia itemscope itemtype=http://schema.org/ImageObject> <a href=img/console_serviceusers_create.gif data-size=1920x1080 itemprop=contentUrl> <img alt=console_serviceusers_create src=img/console_serviceusers_create.gif itemprop=thumbnail> </a> <figcaption itemprop="caption description">Create new service user</figcaption> </figure> <h3> <span class=offset-anchor id=Authenticating_a_service_user></span> <a href=guide-gtnz-service-users#Authenticating_a_service_user class=anchor aria-hidden=true><i class="las la-link"></i></a> Authenticating a service user </h3><p>In ZITADEL we use the <code>private_jwt</code> (<strong>“JWT bearer token with private key”</strong>, <a href=https://tools.ietf.org/html/rfc7523 target=_blank>RFC7523</a>) authorization grant for this non-interactive authentication.</p> <p>You need to follow these steps to authenticate a service user and receive a access token:</p> <ol> <li>Generate a private-public key pair in ZITADEL </li> <li>Create a JSON Web Token (JWT) and sign with private key</li> <li>With this JWT, request an OAuth token from ZITADEL</li> </ol> <p>With this token you can make subsequent requests, just like a human user.</p> <h3> <span class=offset-anchor id=Exercise_Get_an_access_token></span> <a href=guide-gtnz-service-users#Exercise_Get_an_access_token class=anchor aria-hidden=true><i class="las la-link"></i></a> Exercise: Get an access token </h3><p>In this exercise we will authenticate a service user and receive an access_token to </p> <blockquote> <p><strong>Information:</strong> Are you stuck? Don't hesitate to reach out to us on <a href=https://github.com/caos/zitadel/discussions target=_blank>Github Discussions</a> or <a href=https://zitadel.ch/contact/ target=_blank>contact us</a> privately.</p> </blockquote> <h4> <span class=offset-anchor id=1_Generate_a_private-public_key_pair_in_ZITADEL></span> <a href=guide-gtnz-service-users#1_Generate_a_private-public_key_pair_in_ZITADEL class=anchor aria-hidden=true><i class="las la-link"></i></a> 1. Generate a private-public key pair in ZITADEL </h4><p>Select your service user and in the section KEYS click <strong>New</strong>. Enter an expiration date and click <strong>Add</strong>. Make sure to download the json by clicking <strong>Download</strong>. </p> <figure itemprop=associatedMedia itemscope itemtype=http://schema.org/ImageObject> <a href=img/console_serviceusers_new_key.gif data-size=1920x1080 itemprop=contentUrl> <img alt=console_serviceusers_new_key src=img/console_serviceusers_new_key.gif itemprop=thumbnail> </a> <figcaption itemprop="caption description">Create private key</figcaption> </figure> <p>The downloaded json should look something like outlined below. The value of <code>key</code> contains the <em>private</em> key for your service account. Please make sure to keep this key securely stored and handle with care. The public key is automatically stored in ZITADEL.</p> <div class=""><pre class="language-undefined"><code>{
	<span class=hljs-attr>"type"</span>:<span class=hljs-string>"serviceaccount"</span>,
	<span class=hljs-attr>"keyId"</span>:<span class=hljs-string>"100509901696068329"</span>,
	<span class=hljs-attr>"key"</span>:<span class=hljs-string>"-----BEGIN RSA PRIVATE KEY----- [...] -----END RSA PRIVATE KEY-----\n"</span>,
	<span class=hljs-attr>"userId"</span>:<span class=hljs-string>"100507859606888466"</span>
}</code></pre></div> <h4> <span class=offset-anchor id=2_Create_a_JWT_and_sign_with_private_key></span> <a href=guide-gtnz-service-users#2_Create_a_JWT_and_sign_with_private_key class=anchor aria-hidden=true><i class="las la-link"></i></a> 2. Create a JWT and sign with private key </h4><p>You need to create a JWT with the following header and payload and sign it with the RS256 algorithm.</p> <p>Header</p> <div class=""><pre class="language-undefined"><code>{
	<span class=hljs-attr>"alg"</span>: <span class=hljs-string>"RS256"</span>,
	<span class=hljs-attr>"kid"</span>:<span class=hljs-string>"100509901696068329"</span>
}</code></pre></div><p>Make sure to include <code>kid</code> in the header with the value of <code>keyId</code> from the downloaded JSON.</p> <p>Payload</p> <div class=""><pre class="language-undefined"><code>{
	<span class=hljs-attr>"iss"</span>: <span class=hljs-string>"100507859606888466"</span>,
	<span class=hljs-attr>"sub"</span>: <span class=hljs-string>"100507859606888466"</span>,
	<span class=hljs-attr>"aud"</span>: <span class=hljs-string>"https://issuer.zitadel.ch"</span>,
	<span class=hljs-attr>"iat"</span>: [Current UTC timestamp, e.g. <span class=hljs-number>1605179982</span>],
	<span class=hljs-attr>"exp"</span>: [UTC timestamp, max. <span class=hljs-number>1</span> hour from iat, e.g. <span class=hljs-number>1605183582</span>]
}</code></pre></div><ul> <li><code>iss</code> represents the requesting party, i.e. the owner of the private key. In this case the value of <code>userId</code> from the downloaded JSON.</li> <li><code>sub</code> represents the application. Set the value also to the value of <code>userId</code></li> <li><code>aud</code> must be ZITADEL's issuing domain</li> <li><code>iat</code> is a unix timestamp of the creation signing time of the JWT, e.g. now</li> <li><code>exp</code> is the unix timestamp of expiry of this assertion. Must be less than 1 hour from <code>iat</code></li> </ul> <p>Please refer to <a href=/architecture#JWT_with_Private_Key#JWT_with_Private_Keyvate_Key>JWT_with_Private_Key</a> in the documentation for further information.</p> <blockquote> <p><strong>Information:</strong> The <code>exp</code> claim is currently not validated, but will be with a future release. Make sure that <code>exp</code> is less than 1 hour starting from <code>iat</code>.</p> </blockquote> <p>If you use Go, you might want to use the <a href=https://github.com/caos/zitadel-tools target=_blank>provided tool</a> to generate a JWT from the downloaded json. There are many <a href=https://jwt.io/#libraries-io target=_blank>libraries</a> to generate and sign JWT. </p> <h4> <span class=offset-anchor id=3_With_this_JWT_request_an_OAuth_token_from_ZITADEL></span> <a href=guide-gtnz-service-users#3_With_this_JWT_request_an_OAuth_token_from_ZITADEL class=anchor aria-hidden=true><i class="las la-link"></i></a> 3. With this JWT, request an OAuth token from ZITADEL </h4><p>With the encoded JWT from the prior step, you will need to craft a POST request to ZITADEL's token endpoint:</p> <div class=""><pre class=language-bash><code>curl --request POST \
  --url https://api.zitadel.ch/oauth/v2/token \
  --header <span class=hljs-string>'Content-Type: application/x-www-form-urlencoded'</span> \
  --data grant_type=urn:ietf:params:oauth:client-assertion-type:jwt-bearer \
  --data scope=<span class=hljs-string>'openid profile email'</span> \
  --data assertion=eyJ0eXAiOiJKV1QiL...</code></pre></div><ul> <li><code>grant_type</code> should be set to <code>urn:ietf:params:oauth:client-assertion-type:jwt-bearer</code></li> <li><code>scope</code> should contain any <a href=/architecture#Scopes>Scopes</a> you want to include, but must include <code>openid</code>. For this example, please include <code>profile</code> and <code>email</code></li> <li><code>assertion</code> is the encoded value of the JWT that was signed with your private key from the prior step</li> </ul> <p>You should receive a successful response with <code>access_token</code>, <code>token_type</code> and time to expiry in seconds as <code>expires_in</code>.</p> <div class=""><pre class=language-bash><code>HTTP/1.1 200 OK
Content-Type: application/json

{
  <span class=hljs-string>"access_token"</span>: <span class=hljs-string>"MtjHodGy4zxKylDOhg6kW90WeEQs2q..."</span>,
  <span class=hljs-string>"token_type"</span>: <span class=hljs-string>"Bearer"</span>,
  <span class=hljs-string>"expires_in"</span>: 43199
}</code></pre></div> <h4> <span class=offset-anchor id=4_Verify_that_you_have_a_valid_access_toaken></span> <a href=guide-gtnz-service-users#4_Verify_that_you_have_a_valid_access_toaken class=anchor aria-hidden=true><i class="las la-link"></i></a> 4. Verify that you have a valid access toaken </h4><p>For this example let's call the userinfo endpoint to verfiy that our access token works.</p> <div class=""><pre class=language-bash><code>curl --request POST \
  --url https://api.zitadel.ch/oauth/v2/userinfo \
  --header <span class=hljs-string>'Content-Type: application/x-www-form-urlencoded'</span> \
  --header <span class=hljs-string>'Authorization: Bearer MtjHodGy4zxKylDOhg6kW90WeEQs2q...'</span></code></pre></div><p>You should receive a response with your service user's information. </p> <div class=""><pre class=language-bash><code>HTTP/1.1 200 OK
Content-Type: application/json

{
  <span class=hljs-string>"name"</span>: <span class=hljs-string>"MyServiceUser"</span>,
  <span class=hljs-string>"preferred_username"</span>: <span class=hljs-string>"service_user@acme.zitadel.ch"</span>,
  <span class=hljs-string>"updated_at"</span>: 1616417938
}</code></pre></div> <h3> <span class=offset-anchor id=Knowledge_Check></span> <a href=guide-gtnz-service-users#Knowledge_Check class=anchor aria-hidden=true><i class="las la-link"></i></a> Knowledge Check </h3><ul> <li>To secure backend APIs you can request an API key via ZITADEL's console<ul> <li><input disabled type=checkbox> yes</li> <li><input disabled type=checkbox> no</li> </ul> </li> <li>The JWT header must contain a property <code>kid</code> with the value of the key ID<ul> <li><input disabled type=checkbox> yes</li> <li><input disabled type=checkbox> no</li> </ul> </li> <li>After generating a key for your service user, you must download the public key and sign your JWT with the public key<ul> <li><input disabled type=checkbox> yes</li> <li><input disabled type=checkbox> no</li> </ul> </li> </ul> <details> <summary> Solutions </summary> <ul> <li>To secure backend APIs you can request an API key via ZITADEL's console<ul> <li><input disabled type=checkbox> yes</li> <li><input disabled type=checkbox checked> no (We use <strong>“JWT bearer token with private key”</strong>, <a href=https://tools.ietf.org/html/rfc7523 target=_blank>RFC7523</a>)</li> </ul> </li> <li>The JWT header must contain a property <code>kid</code> with the value of the key ID<ul> <li><input disabled type=checkbox checked> yes</li> <li><input disabled type=checkbox> no</li> </ul> </li> <li>After generating a key for your service user, you must download the public key and sign your JWT with the public key<ul> <li><input disabled type=checkbox> yes</li> <li><input disabled type=checkbox checked> no (The json file contains the private key. Handle with care.)</li> </ul> </li> </ul> </details> <h3> <span class=offset-anchor id=Summary></span> <a href=guide-gtnz-service-users#Summary class=anchor aria-hidden=true><i class="las la-link"></i></a> Summary </h3><ul> <li>With service users you can secure machine-to-machine communication</li> <li>Because there is no interactive logon, you need to use a JWT signed with your private key to authorize the user</li> <li>After successful authorization you can use an access token like for human users</li> </ul> <p>Where to go from here: </p> <ul> <li>Management API</li> <li>Securing backend API</li> </ul> </section></div> <div class="svelte-him5z6 overlay"></div> <aside class="svelte-him5z6 sidebar-container"><div class="svelte-him5z6 sidebar"><button class="svelte-5en90e search-trigger"><i class="las la-search svelte-5en90e"></i> <span class=svelte-5en90e>Search this site</span> <span class="svelte-5en90e fill-space"></span> <span class="svelte-5en90e strg">Ctrl F</span></button> <ul class="svelte-7kfwfv reference-toc"><li class=svelte-7kfwfv><a href=guide-gtnz-service-users#ZITADEL_Service_Users class="svelte-7kfwfv section">ZITADEL Service Users </a> <a href=guide-gtnz-service-users#Human_vs_Machine class="svelte-7kfwfv subsection" data-level=3>Human vs. Machine </a> <a href=guide-gtnz-service-users#Exercise_Create_a_Service_User class="svelte-7kfwfv subsection" data-level=3>Exercise: Create a Service User </a> <a href=guide-gtnz-service-users#Authenticating_a_service_user class="svelte-7kfwfv subsection" data-level=3>Authenticating a service user </a> <a href=guide-gtnz-service-users#Exercise_Get_an_access_token class="svelte-7kfwfv subsection" data-level=3>Exercise: Get an access token </a> <a href=guide-gtnz-service-users#1_Generate_a_private-public_key_pair_in_ZITADEL class="svelte-7kfwfv subsection" data-level=4>1. Generate a private-public key pair in ZITADEL </a> <a href=guide-gtnz-service-users#2_Create_a_JWT_and_sign_with_private_key class="svelte-7kfwfv subsection" data-level=4>2. Create a JWT and sign with private key </a> <a href=guide-gtnz-service-users#3_With_this_JWT_request_an_OAuth_token_from_ZITADEL class="svelte-7kfwfv subsection" data-level=4>3. With this JWT, request an OAuth token from ZITADEL </a> <a href=guide-gtnz-service-users#4_Verify_that_you_have_a_valid_access_toaken class="svelte-7kfwfv subsection" data-level=4>4. Verify that you have a valid access toaken </a> <a href=guide-gtnz-service-users#Knowledge_Check class="svelte-7kfwfv subsection" data-level=3>Knowledge Check </a> <a href=guide-gtnz-service-users#Summary class="svelte-7kfwfv subsection" data-level=3>Summary </a> </ul></div> <button class=svelte-him5z6><i class="las la-bars" style=font-size:20px;height:20px><use xlink:href="#las la-bars"></use></i></button></aside> </main> <div class=pswp aria-hidden=true role=dialog tabindex=-1> <div class=pswp__bg></div> <div class=pswp__scroll-wrap> <div class=pswp__container><div class=pswp__item></div> <div class=pswp__item></div> <div class=pswp__item></div></div> <div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar> <div class=pswp__counter></div> <button class="pswp__button pswp__button--close" title="Close (Esc)"></button> <button class="pswp__button pswp__button--share" title=Share></button> <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button> <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button> <div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div> <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div> <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button> <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button> <div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div></div> <script>__SAPPER__={baseUrl:"",preloaded:[void 0,(function(a,b,c){return {sections:[{html:"\u003Ctable class=\"table-wrapper\"\u003E\n    \u003Ctr\u003E\n        \u003Ctd\u003EDescription\u003C\u002Ftd\u003E\n        \u003Ctd\u003ELearn the basics about ZITADEL Service Users, how to set them up and authorize with ZITADEL.\u003C\u002Ftd\u003E\n    \u003C\u002Ftr\u003E\n    \u003Ctr\u003E\n        \u003Ctd\u003ELearning Outcomes\u003C\u002Ftd\u003E\n        \u003Ctd\u003E\n            In this module you will: \n            \u003Cul\u003E\n                \u003Cli\u003ELearn about Service Users\u003C\u002Fli\u003E\n                \u003Cli\u003ECreate a Service User in ZITADEL Console\u003C\u002Fli\u003E\n                \u003Cli\u003EAuthorize a Service User with JWT signed with your private key\u003C\u002Fli\u003E\n            \u003C\u002Ful\u003E\n        \u003C\u002Ftd\u003E\n    \u003C\u002Ftr\u003E\n     \u003Ctr\u003E\n        \u003Ctd\u003EPrerequisites\u003C\u002Ftd\u003E\n        \u003Ctd\u003E\n            \u003Cul\u003E\n                \u003Cli\u003EKnowledge of \u003Ca href=\"\u002Foauth-recommended-flows#Our_recommended_authorization_flows\"\u003ERecommended Authorization Flows\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n            \u003C\u002Ful\u003E\n        \u003C\u002Ftd\u003E\n    \u003C\u002Ftr\u003E\n\u003C\u002Ftable\u003E\n\n\n\t\t\t\t\t\u003Ch3\u003E\n\t\t\t\t\t\t\u003Cspan id=\"Human_vs_Machine\" class=\"offset-anchor\" \u003E\u003C\u002Fspan\u003E\n\t\t\t\t\t\t\u003Ca href=\"guide-gtnz-service-users#Human_vs_Machine\" class=\"anchor\" aria-hidden=\"true\"\u003E\u003Ci class=\"las la-link\"\u003E\u003C\u002Fi\u003E\u003C\u002Fa\u003E\n\t\t\t\t\t\tHuman vs. Machine\n\t\t\t\t\t\u003C\u002Fh3\u003E\u003Cp\u003EZITADEL supports human an machine users. We call human users simply &quot;Users&quot; and machine users &quot;Service Users&quot;.\u003C\u002Fp\u003E\n\u003Cp\u003EWith Service Users you would typically secure backend services. For example in ZITADEL you would require an authenticated Service User to access the Management API. The main difference between human and machine users is the type of credentials that can be used for authentication: Human users typically logon via an login prompt, but Machine users require a non-interactive logon process.\u003C\u002Fp\u003E\n\n\t\t\t\t\t\u003Ch3\u003E\n\t\t\t\t\t\t\u003Cspan id=\"Exercise_Create_a_Service_User\" class=\"offset-anchor\" \u003E\u003C\u002Fspan\u003E\n\t\t\t\t\t\t\u003Ca href=\"guide-gtnz-service-users#Exercise_Create_a_Service_User\" class=\"anchor\" aria-hidden=\"true\"\u003E\u003Ci class=\"las la-link\"\u003E\u003C\u002Fi\u003E\u003C\u002Fa\u003E\n\t\t\t\t\t\tExercise: Create a Service User\n\t\t\t\t\t\u003C\u002Fh3\u003E\u003Col\u003E\n\u003Cli\u003ENavigate to Service Users\u003C\u002Fli\u003E\n\u003Cli\u003EClick on \u003Cstrong\u003ENew\u003C\u002Fstrong\u003E\u003C\u002Fli\u003E\n\u003Cli\u003EEnter a user name and a display name\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Cfigure itemprop=\"associatedMedia\" itemscope itemtype=\"http:\u002F\u002Fschema.org\u002FImageObject\"\u003E\n    \u003Ca href=\"img\u002Fconsole_serviceusers_create.gif\" itemprop=\"contentUrl\" data-size=\"1920x1080\"\u003E\n        \u003Cimg src=\"img\u002Fconsole_serviceusers_create.gif\" itemprop=\"thumbnail\" alt=\"console_serviceusers_create\" \u002F\u003E\n    \u003C\u002Fa\u003E\n    \u003Cfigcaption itemprop=\"caption description\"\u003ECreate new service user\u003C\u002Ffigcaption\u003E\n\u003C\u002Ffigure\u003E\n\n\n\t\t\t\t\t\u003Ch3\u003E\n\t\t\t\t\t\t\u003Cspan id=\"Authenticating_a_service_user\" class=\"offset-anchor\" \u003E\u003C\u002Fspan\u003E\n\t\t\t\t\t\t\u003Ca href=\"guide-gtnz-service-users#Authenticating_a_service_user\" class=\"anchor\" aria-hidden=\"true\"\u003E\u003Ci class=\"las la-link\"\u003E\u003C\u002Fi\u003E\u003C\u002Fa\u003E\n\t\t\t\t\t\tAuthenticating a service user\n\t\t\t\t\t\u003C\u002Fh3\u003E\u003Cp\u003EIn ZITADEL we use the \u003Ccode\u003Eprivate_jwt\u003C\u002Fcode\u003E (\u003Cstrong\u003E“JWT bearer token with private key”\u003C\u002Fstrong\u003E, \u003Ca href=\"https:\u002F\u002Ftools.ietf.org\u002Fhtml\u002Frfc7523\" target=\"_blank\"\u003ERFC7523\u003C\u002Fa\u003E) authorization grant for this non-interactive authentication.\u003C\u002Fp\u003E\n\u003Cp\u003EYou need to follow these steps to authenticate a service user and receive a access token:\u003C\u002Fp\u003E\n\u003Col\u003E\n\u003Cli\u003EGenerate a private-public key pair in ZITADEL \u003C\u002Fli\u003E\n\u003Cli\u003ECreate a JSON Web Token (JWT) and sign with private key\u003C\u002Fli\u003E\n\u003Cli\u003EWith this JWT, request an OAuth token from ZITADEL\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Cp\u003EWith this token you can make subsequent requests, just like a human user.\u003C\u002Fp\u003E\n\n\t\t\t\t\t\u003Ch3\u003E\n\t\t\t\t\t\t\u003Cspan id=\"Exercise_Get_an_access_token\" class=\"offset-anchor\" \u003E\u003C\u002Fspan\u003E\n\t\t\t\t\t\t\u003Ca href=\"guide-gtnz-service-users#Exercise_Get_an_access_token\" class=\"anchor\" aria-hidden=\"true\"\u003E\u003Ci class=\"las la-link\"\u003E\u003C\u002Fi\u003E\u003C\u002Fa\u003E\n\t\t\t\t\t\tExercise: Get an access token\n\t\t\t\t\t\u003C\u002Fh3\u003E\u003Cp\u003EIn this exercise we will authenticate a service user and receive an access_token to \u003C\u002Fp\u003E\n\u003Cblockquote\u003E\n\u003Cp\u003E\u003Cstrong\u003EInformation:\u003C\u002Fstrong\u003E Are you stuck? Don&#39;t hesitate to reach out to us on \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fcaos\u002Fzitadel\u002Fdiscussions\" target=\"_blank\"\u003EGithub Discussions\u003C\u002Fa\u003E or \u003Ca href=\"https:\u002F\u002Fzitadel.ch\u002Fcontact\u002F\" target=\"_blank\"\u003Econtact us\u003C\u002Fa\u003E privately.\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\n\t\t\t\t\t\u003Ch4\u003E\n\t\t\t\t\t\t\u003Cspan id=\"1_Generate_a_private-public_key_pair_in_ZITADEL\" class=\"offset-anchor\" \u003E\u003C\u002Fspan\u003E\n\t\t\t\t\t\t\u003Ca href=\"guide-gtnz-service-users#1_Generate_a_private-public_key_pair_in_ZITADEL\" class=\"anchor\" aria-hidden=\"true\"\u003E\u003Ci class=\"las la-link\"\u003E\u003C\u002Fi\u003E\u003C\u002Fa\u003E\n\t\t\t\t\t\t1. Generate a private-public key pair in ZITADEL\n\t\t\t\t\t\u003C\u002Fh4\u003E\u003Cp\u003ESelect your service user and in the section KEYS click \u003Cstrong\u003ENew\u003C\u002Fstrong\u003E. Enter an expiration date and click \u003Cstrong\u003EAdd\u003C\u002Fstrong\u003E. Make sure to download the json by clicking \u003Cstrong\u003EDownload\u003C\u002Fstrong\u003E. \u003C\u002Fp\u003E\n\u003Cfigure itemprop=\"associatedMedia\" itemscope itemtype=\"http:\u002F\u002Fschema.org\u002FImageObject\"\u003E\n    \u003Ca href=\"img\u002Fconsole_serviceusers_new_key.gif\" itemprop=\"contentUrl\" data-size=\"1920x1080\"\u003E\n        \u003Cimg src=\"img\u002Fconsole_serviceusers_new_key.gif\" itemprop=\"thumbnail\" alt=\"console_serviceusers_new_key\" \u002F\u003E\n    \u003C\u002Fa\u003E\n    \u003Cfigcaption itemprop=\"caption description\"\u003ECreate private key\u003C\u002Ffigcaption\u003E\n\u003C\u002Ffigure\u003E\n\n\u003Cp\u003EThe downloaded json should look something like outlined below. The value of \u003Ccode\u003Ekey\u003C\u002Fcode\u003E contains the \u003Cem\u003Eprivate\u003C\u002Fem\u003E key for your service account. Please make sure to keep this key securely stored and handle with care. The public key is automatically stored in ZITADEL.\u003C\u002Fp\u003E\n\u003Cdiv class=''\u003E\u003Cpre class='language-undefined'\u003E\u003Ccode\u003E{\n\t\u003Cspan class=\"hljs-attr\"\u003E&quot;type&quot;\u003C\u002Fspan\u003E:\u003Cspan class=\"hljs-string\"\u003E&quot;serviceaccount&quot;\u003C\u002Fspan\u003E,\n\t\u003Cspan class=\"hljs-attr\"\u003E&quot;keyId&quot;\u003C\u002Fspan\u003E:\u003Cspan class=\"hljs-string\"\u003E&quot;100509901696068329&quot;\u003C\u002Fspan\u003E,\n\t\u003Cspan class=\"hljs-attr\"\u003E&quot;key&quot;\u003C\u002Fspan\u003E:\u003Cspan class=\"hljs-string\"\u003E&quot;-----BEGIN RSA PRIVATE KEY----- [...] -----END RSA PRIVATE KEY-----\\n&quot;\u003C\u002Fspan\u003E,\n\t\u003Cspan class=\"hljs-attr\"\u003E&quot;userId&quot;\u003C\u002Fspan\u003E:\u003Cspan class=\"hljs-string\"\u003E&quot;100507859606888466&quot;\u003C\u002Fspan\u003E\n}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\n\t\t\t\t\t\u003Ch4\u003E\n\t\t\t\t\t\t\u003Cspan id=\"2_Create_a_JWT_and_sign_with_private_key\" class=\"offset-anchor\" \u003E\u003C\u002Fspan\u003E\n\t\t\t\t\t\t\u003Ca href=\"guide-gtnz-service-users#2_Create_a_JWT_and_sign_with_private_key\" class=\"anchor\" aria-hidden=\"true\"\u003E\u003Ci class=\"las la-link\"\u003E\u003C\u002Fi\u003E\u003C\u002Fa\u003E\n\t\t\t\t\t\t2. Create a JWT and sign with private key\n\t\t\t\t\t\u003C\u002Fh4\u003E\u003Cp\u003EYou need to create a JWT with the following header and payload and sign it with the RS256 algorithm.\u003C\u002Fp\u003E\n\u003Cp\u003EHeader\u003C\u002Fp\u003E\n\u003Cdiv class=''\u003E\u003Cpre class='language-undefined'\u003E\u003Ccode\u003E{\n\t\u003Cspan class=\"hljs-attr\"\u003E&quot;alg&quot;\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&quot;RS256&quot;\u003C\u002Fspan\u003E,\n\t\u003Cspan class=\"hljs-attr\"\u003E&quot;kid&quot;\u003C\u002Fspan\u003E:\u003Cspan class=\"hljs-string\"\u003E&quot;100509901696068329&quot;\u003C\u002Fspan\u003E\n}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cp\u003EMake sure to include \u003Ccode\u003Ekid\u003C\u002Fcode\u003E in the header with the value of \u003Ccode\u003EkeyId\u003C\u002Fcode\u003E from the downloaded JSON.\u003C\u002Fp\u003E\n\u003Cp\u003EPayload\u003C\u002Fp\u003E\n\u003Cdiv class=''\u003E\u003Cpre class='language-undefined'\u003E\u003Ccode\u003E{\n\t\u003Cspan class=\"hljs-attr\"\u003E&quot;iss&quot;\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&quot;100507859606888466&quot;\u003C\u002Fspan\u003E,\n\t\u003Cspan class=\"hljs-attr\"\u003E&quot;sub&quot;\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&quot;100507859606888466&quot;\u003C\u002Fspan\u003E,\n\t\u003Cspan class=\"hljs-attr\"\u003E&quot;aud&quot;\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&quot;https:\u002F\u002Fissuer.zitadel.ch&quot;\u003C\u002Fspan\u003E,\n\t\u003Cspan class=\"hljs-attr\"\u003E&quot;iat&quot;\u003C\u002Fspan\u003E: [Current UTC timestamp, e.g. \u003Cspan class=\"hljs-number\"\u003E1605179982\u003C\u002Fspan\u003E],\n\t\u003Cspan class=\"hljs-attr\"\u003E&quot;exp&quot;\u003C\u002Fspan\u003E: [UTC timestamp, max. \u003Cspan class=\"hljs-number\"\u003E1\u003C\u002Fspan\u003E hour from iat, e.g. \u003Cspan class=\"hljs-number\"\u003E1605183582\u003C\u002Fspan\u003E]\n}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cul\u003E\n\u003Cli\u003E\u003Ccode\u003Eiss\u003C\u002Fcode\u003E represents the requesting party, i.e. the owner of the private key. In this case the value of \u003Ccode\u003EuserId\u003C\u002Fcode\u003E from the downloaded JSON.\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ccode\u003Esub\u003C\u002Fcode\u003E represents the application. Set the value also to the value of \u003Ccode\u003EuserId\u003C\u002Fcode\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ccode\u003Eaud\u003C\u002Fcode\u003E must be ZITADEL&#39;s issuing domain\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ccode\u003Eiat\u003C\u002Fcode\u003E is a unix timestamp of the creation signing time of the JWT, e.g. now\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ccode\u003Eexp\u003C\u002Fcode\u003E is the unix timestamp of expiry of this assertion. Must be less than 1 hour from \u003Ccode\u003Eiat\u003C\u002Fcode\u003E\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EPlease refer to \u003Ca href=\"\u002Farchitecture#JWT_with_Private_Key#JWT_with_Private_Keyvate_Key\"\u003EJWT_with_Private_Key\u003C\u002Fa\u003E in the documentation for further information.\u003C\u002Fp\u003E\n\u003Cblockquote\u003E\n\u003Cp\u003E\u003Cstrong\u003EInformation:\u003C\u002Fstrong\u003E The \u003Ccode\u003Eexp\u003C\u002Fcode\u003E claim is currently not validated, but will be with a future release. Make sure that \u003Ccode\u003Eexp\u003C\u002Fcode\u003E is less than 1 hour starting from \u003Ccode\u003Eiat\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\u003Cp\u003EIf you use Go, you might want to use the \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fcaos\u002Fzitadel-tools\" target=\"_blank\"\u003Eprovided tool\u003C\u002Fa\u003E to generate a JWT from the downloaded json. There are many \u003Ca href=\"https:\u002F\u002Fjwt.io\u002F#libraries-io\" target=\"_blank\"\u003Elibraries\u003C\u002Fa\u003E to generate and sign JWT. \u003C\u002Fp\u003E\n\n\t\t\t\t\t\u003Ch4\u003E\n\t\t\t\t\t\t\u003Cspan id=\"3_With_this_JWT_request_an_OAuth_token_from_ZITADEL\" class=\"offset-anchor\" \u003E\u003C\u002Fspan\u003E\n\t\t\t\t\t\t\u003Ca href=\"guide-gtnz-service-users#3_With_this_JWT_request_an_OAuth_token_from_ZITADEL\" class=\"anchor\" aria-hidden=\"true\"\u003E\u003Ci class=\"las la-link\"\u003E\u003C\u002Fi\u003E\u003C\u002Fa\u003E\n\t\t\t\t\t\t3. With this JWT, request an OAuth token from ZITADEL\n\t\t\t\t\t\u003C\u002Fh4\u003E\u003Cp\u003EWith the encoded JWT from the prior step, you will need to craft a POST request to ZITADEL&#39;s token endpoint:\u003C\u002Fp\u003E\n\u003Cdiv class=''\u003E\u003Cpre class='language-bash'\u003E\u003Ccode\u003Ecurl --request POST \\\n  --url https:\u002F\u002Fapi.zitadel.ch\u002Foauth\u002Fv2\u002Ftoken \\\n  --header \u003Cspan class=\"hljs-string\"\u003E&#x27;Content-Type: application\u002Fx-www-form-urlencoded&#x27;\u003C\u002Fspan\u003E \\\n  --data grant_type=urn:ietf:params:oauth:client-assertion-type:jwt-bearer \\\n  --data scope=\u003Cspan class=\"hljs-string\"\u003E&#x27;openid profile email&#x27;\u003C\u002Fspan\u003E \\\n  --data assertion=eyJ0eXAiOiJKV1QiL...\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cul\u003E\n\u003Cli\u003E\u003Ccode\u003Egrant_type\u003C\u002Fcode\u003E should be set to \u003Ccode\u003Eurn:ietf:params:oauth:client-assertion-type:jwt-bearer\u003C\u002Fcode\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ccode\u003Escope\u003C\u002Fcode\u003E should contain any \u003Ca href=\"\u002Farchitecture#Scopes\"\u003EScopes\u003C\u002Fa\u003E you want to include, but must include \u003Ccode\u003Eopenid\u003C\u002Fcode\u003E. For this example, please include \u003Ccode\u003Eprofile\u003C\u002Fcode\u003E and \u003Ccode\u003Eemail\u003C\u002Fcode\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ccode\u003Eassertion\u003C\u002Fcode\u003E is the encoded value of the JWT that was signed with your private key from the prior step\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EYou should receive a successful response with \u003Ccode\u003Eaccess_token\u003C\u002Fcode\u003E,  \u003Ccode\u003Etoken_type\u003C\u002Fcode\u003E and time to expiry in seconds as \u003Ccode\u003Eexpires_in\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\n\u003Cdiv class=''\u003E\u003Cpre class='language-bash'\u003E\u003Ccode\u003EHTTP\u002F1.1 200 OK\nContent-Type: application\u002Fjson\n\n{\n  \u003Cspan class=\"hljs-string\"\u003E&quot;access_token&quot;\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&quot;MtjHodGy4zxKylDOhg6kW90WeEQs2q...&quot;\u003C\u002Fspan\u003E,\n  \u003Cspan class=\"hljs-string\"\u003E&quot;token_type&quot;\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&quot;Bearer&quot;\u003C\u002Fspan\u003E,\n  \u003Cspan class=\"hljs-string\"\u003E&quot;expires_in&quot;\u003C\u002Fspan\u003E: 43199\n}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\n\t\t\t\t\t\u003Ch4\u003E\n\t\t\t\t\t\t\u003Cspan id=\"4_Verify_that_you_have_a_valid_access_toaken\" class=\"offset-anchor\" \u003E\u003C\u002Fspan\u003E\n\t\t\t\t\t\t\u003Ca href=\"guide-gtnz-service-users#4_Verify_that_you_have_a_valid_access_toaken\" class=\"anchor\" aria-hidden=\"true\"\u003E\u003Ci class=\"las la-link\"\u003E\u003C\u002Fi\u003E\u003C\u002Fa\u003E\n\t\t\t\t\t\t4. Verify that you have a valid access toaken\n\t\t\t\t\t\u003C\u002Fh4\u003E\u003Cp\u003EFor this example let&#39;s call the userinfo endpoint to verfiy that our access token works.\u003C\u002Fp\u003E\n\u003Cdiv class=''\u003E\u003Cpre class='language-bash'\u003E\u003Ccode\u003Ecurl --request POST \\\n  --url https:\u002F\u002Fapi.zitadel.ch\u002Foauth\u002Fv2\u002Fuserinfo \\\n  --header \u003Cspan class=\"hljs-string\"\u003E&#x27;Content-Type: application\u002Fx-www-form-urlencoded&#x27;\u003C\u002Fspan\u003E \\\n  --header \u003Cspan class=\"hljs-string\"\u003E&#x27;Authorization: Bearer MtjHodGy4zxKylDOhg6kW90WeEQs2q...&#x27;\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cp\u003EYou should receive a response with your service user&#39;s information. \u003C\u002Fp\u003E\n\u003Cdiv class=''\u003E\u003Cpre class='language-bash'\u003E\u003Ccode\u003EHTTP\u002F1.1 200 OK\nContent-Type: application\u002Fjson\n\n{\n  \u003Cspan class=\"hljs-string\"\u003E&quot;name&quot;\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&quot;MyServiceUser&quot;\u003C\u002Fspan\u003E,\n  \u003Cspan class=\"hljs-string\"\u003E&quot;preferred_username&quot;\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&quot;service_user@acme.zitadel.ch&quot;\u003C\u002Fspan\u003E,\n  \u003Cspan class=\"hljs-string\"\u003E&quot;updated_at&quot;\u003C\u002Fspan\u003E: 1616417938\n}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\n\t\t\t\t\t\u003Ch3\u003E\n\t\t\t\t\t\t\u003Cspan id=\"Knowledge_Check\" class=\"offset-anchor\" \u003E\u003C\u002Fspan\u003E\n\t\t\t\t\t\t\u003Ca href=\"guide-gtnz-service-users#Knowledge_Check\" class=\"anchor\" aria-hidden=\"true\"\u003E\u003Ci class=\"las la-link\"\u003E\u003C\u002Fi\u003E\u003C\u002Fa\u003E\n\t\t\t\t\t\tKnowledge Check\n\t\t\t\t\t\u003C\u002Fh3\u003E\u003Cul\u003E\n\u003Cli\u003ETo secure backend APIs you can request an API key via ZITADEL&#39;s console\u003Cul\u003E\n\u003Cli\u003E\u003Cinput disabled=\"\" type=\"checkbox\"\u003E yes\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Cinput disabled=\"\" type=\"checkbox\"\u003E no\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003EThe JWT header must contain a property \u003Ccode\u003Ekid\u003C\u002Fcode\u003E with the value of the key ID\u003Cul\u003E\n\u003Cli\u003E\u003Cinput disabled=\"\" type=\"checkbox\"\u003E yes\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Cinput disabled=\"\" type=\"checkbox\"\u003E no\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003EAfter generating a key for your service user, you must download the public key and sign your JWT with the public key\u003Cul\u003E\n\u003Cli\u003E\u003Cinput disabled=\"\" type=\"checkbox\"\u003E yes\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Cinput disabled=\"\" type=\"checkbox\"\u003E no\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cdetails\u003E\n    \u003Csummary\u003E\n        Solutions\n    \u003C\u002Fsummary\u003E\n\n\u003Cul\u003E\n\u003Cli\u003ETo secure backend APIs you can request an API key via ZITADEL&#39;s console\u003Cul\u003E\n\u003Cli\u003E\u003Cinput disabled=\"\" type=\"checkbox\"\u003E yes\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Cinput checked=\"\" disabled=\"\" type=\"checkbox\"\u003E no (We use \u003Cstrong\u003E“JWT bearer token with private key”\u003C\u002Fstrong\u003E, \u003Ca href=\"https:\u002F\u002Ftools.ietf.org\u002Fhtml\u002Frfc7523\" target=\"_blank\"\u003ERFC7523\u003C\u002Fa\u003E)\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003EThe JWT header must contain a property \u003Ccode\u003Ekid\u003C\u002Fcode\u003E with the value of the key ID\u003Cul\u003E\n\u003Cli\u003E\u003Cinput checked=\"\" disabled=\"\" type=\"checkbox\"\u003E yes\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Cinput disabled=\"\" type=\"checkbox\"\u003E no\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003EAfter generating a key for your service user, you must download the public key and sign your JWT with the public key\u003Cul\u003E\n\u003Cli\u003E\u003Cinput disabled=\"\" type=\"checkbox\"\u003E yes\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Cinput checked=\"\" disabled=\"\" type=\"checkbox\"\u003E no (The json file contains the private key. Handle with care.)\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fdetails\u003E\n\n\n\t\t\t\t\t\u003Ch3\u003E\n\t\t\t\t\t\t\u003Cspan id=\"Summary\" class=\"offset-anchor\" \u003E\u003C\u002Fspan\u003E\n\t\t\t\t\t\t\u003Ca href=\"guide-gtnz-service-users#Summary\" class=\"anchor\" aria-hidden=\"true\"\u003E\u003Ci class=\"las la-link\"\u003E\u003C\u002Fi\u003E\u003C\u002Fa\u003E\n\t\t\t\t\t\tSummary\n\t\t\t\t\t\u003C\u002Fh3\u003E\u003Cul\u003E\n\u003Cli\u003EWith service users you can secure machine-to-machine communication\u003C\u002Fli\u003E\n\u003Cli\u003EBecause there is no interactive logon, you need to use a JWT signed with your private key to authorize the user\u003C\u002Fli\u003E\n\u003Cli\u003EAfter successful authorization you can use an access token like for human users\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EWhere to go from here: \u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EManagement API\u003C\u002Fli\u003E\n\u003Cli\u003ESecuring backend API\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n",metadata:{title:"ZITADEL Service Users",tags:"beginner, developer, product manager",readingtime:"10min"},subsections:[{slug:"Human_vs_Machine",title:"Human vs. Machine",level:a},{slug:"Exercise_Create_a_Service_User",title:"Exercise: Create a Service User",level:a},{slug:"Authenticating_a_service_user",title:"Authenticating a service user",level:a},{slug:"Exercise_Get_an_access_token",title:"Exercise: Get an access token",level:a},{slug:"1_Generate_a_private-public_key_pair_in_ZITADEL",title:"1. Generate a private-public key pair in ZITADEL",level:b},{slug:"2_Create_a_JWT_and_sign_with_private_key",title:"2. Create a JWT and sign with private key",level:b},{slug:"3_With_this_JWT_request_an_OAuth_token_from_ZITADEL",title:"3. With this JWT, request an OAuth token from ZITADEL",level:b},{slug:"4_Verify_that_you_have_a_valid_access_toaken",title:"4. Verify that you have a valid access toaken",level:b},{slug:"Knowledge_Check",title:"Knowledge Check",level:a},{slug:c,title:c,level:a}],slug:"ZITADEL_Service_Users",file:"00-guide-gtnz-service-users.md"}],seo:"",slug:"guide-gtnz-service-users"}}(3,4,"Summary"))]};if('serviceWorker' in navigator)navigator.serviceWorker.register('/service-worker.js');(function(){try{eval("async function x(){}");var main="/client/client.72e3f8d7.js"}catch(e){main="/client/legacy/client.c6af54af.js"};var s=document.createElement("script");try{new Function("if(0)import('')")();s.src=main;s.type="module";s.crossOrigin="use-credentials";}catch(e){s.src="/client/shimport@2.0.5.js";s.setAttribute("data-main",main);}document.head.appendChild(s);}());</script> 