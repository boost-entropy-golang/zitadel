{{template "main-top" .}}

<h1>{{t "RegistrationOrg.Title"}}</h1>
<p>{{t "RegistrationOrg.Description"}}</p>

<form action="{{ orgRegistrationUrl }}" method="POST">

    {{ .CSRF }}

    <input type="hidden" name="authRequestID" value="{{ .AuthReqID }}" />

    <div class="fields">
        <div class="field">
            <label class="label" for="orgname">{{t "RegistrationOrg.OrgName"}}</label>
            <input class="input" type="text" id="orgname" name="orgname" value="{{ .OrgName }}" autofocus required>
        </div>

        {{if .UserLoginMustBeDomain}}
            <div class="field">
                <label class="label" for="username">{{t "RegistrationOrg.Username"}}</label>
                <span id="loginname">
                    <input data-iam-domain="{{ .IamDomain }}"
                       class="input" type="text" id="username" name="username"
                       value="{{ .Username }}" autofocus required>
                    <span id="default-login-suffix" class="loginname-suffix"></span>

                </span>
            </div>
        {{end}}
        <div class="field">
            <label class="label" for="email">{{t "RegistrationOrg.Email"}}</label>
            <input class="input" type="text" id="email" name="email" autocomplete="email" value="{{ .Email }}" autofocus required>
        </div>

        <div class="field">
            <label class="label" for="firstname">{{t "RegistrationOrg.Firstname"}}</label>
            <input class="input" type="text" id="firstname" name="firstname" autocomplete="given-name" value="{{ .Firstname }}" required>
        </div>
        <div class="field">
            <label class="label" for="lastname">{{t "RegistrationOrg.Lastname"}}</label>
            <input class="input" type="text" id="lastname" name="lastname" autocomplete="family-name" value="{{ .Lastname }}" required>
        </div>
        <div class="field">
            <label class="label" for="register-password">{{t "RegistrationOrg.Password"}}</label>
            <input data-minlength="{{ .MinLength }}"
                   data-has-uppercase="{{ .HasUppercase }}"
                   data-has-lowercase="{{ .HasLowercase }}"
                   data-has-number="{{ .HasNumber }}"
                   data-has-symbol="{{ .HasSymbol }}"
                   class="input" type="password" id="register-password" name="register-password" autocomplete="new-password" required>
            {{ .PasswordPolicyDescription }}
        </div>
        <div class="field">
            <label class="label" for="register-password-confirmation">{{t "RegistrationOrg.Password2"}}</label>
            <input class="input" type="password" id="register-password-confirmation" name="register-password-confirmation" autocomplete="new-password" required>
        </div>
    </div>

    {{template "error-message" .}}

    <div class="actions">
        <button class="primary right" id="register-button" type="submit">{{t "Actions.Save"}}</button>
    </div>
</form>


<script src="{{ resourceUrl "scripts/form_submit.js" }}"></script>
<script src="{{ resourceUrl "scripts/password_policy_check.js" }}"></script>
<script src="{{ resourceUrl "scripts/register_check.js" }}"></script>
<script src="{{ resourceUrl "scripts/loginname_suffix.js" }}"></script>

{{template "main-bottom" .}}
