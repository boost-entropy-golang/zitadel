{"docs":[{"html":"<blockquote>\n<p>All documentations are under active work and subject to change soon!</p>\n</blockquote>\n<p>This Integration guide gives you recommendations on how to integrate different Clients with <strong>ZITADEL</strong></p>\n<ul>\n<li>Single Page Application</li>\n<li>Server Side Application</li>\n<li>Mobile App</li>\n<li>Native App</li>\n<li>Reverse Proxy</li>\n</ul>\n<p>For more details about how <strong>ZITADEL</strong> treats <a href=\"documentation#Scopes\">scopes</a> and <a href=\"documentation#Claims\">claims</a> see the <a href=\"documentation\">documentations</a>.</p>\n","metadata":{"title":"Overview","description":"..."},"subsections":[],"slug":"Overview","file":"00-overview.en.md"},{"html":"\n\t\t\t\t\t<h3>\n\t\t\t\t\t\t<span id=\"SPA_Protocol_and_Flow_recommendation\" class=\"offset-anchor\" ></span>\n\t\t\t\t\t\t<a href=\"integrate#SPA_Protocol_and_Flow_recommendation\" class=\"anchor\" aria-hidden=\"true\"> <i class=\"las la-link\"></i> </a>\n\t\t\t\t\t\tSPA Protocol and Flow recommendation\n\t\t\t\t\t</h3><p>If your <a href=\"administrate#Clients\">client</a> is a single page application (SPA) we recommend that you use <a href=\"documentation#Authorization_Code\">Authorization Code</a> in combination with <a href=\"documentation#Proof_Key_for_Code_Exchange\">Proof Key for Code Exchange</a>.</p>\n<p>This flow has great support with most modern languages and frameworks and is the recommended default.</p>\n<blockquote>\n<p>In the OIDC and OAuth world this <strong>client profile</strong> is called &quot;user-agent-based application&quot;</p>\n</blockquote>\n\n\t\t\t\t\t<h3>\n\t\t\t\t\t\t<span id=\"Typescript_Example\" class=\"offset-anchor\" ></span>\n\t\t\t\t\t\t<a href=\"integrate#Typescript_Example\" class=\"anchor\" aria-hidden=\"true\"> <i class=\"las la-link\"></i> </a>\n\t\t\t\t\t\tTypescript Example\n\t\t\t\t\t</h3>\n\t\t\t\t\t<h4>\n\t\t\t\t\t\t<span id=\"Typescript_Authentication_Example\" class=\"offset-anchor\" ></span>\n\t\t\t\t\t\t<a href=\"integrate#Typescript_Authentication_Example\" class=\"anchor\" aria-hidden=\"true\"> <i class=\"las la-link\"></i> </a>\n\t\t\t\t\t\tTypescript Authentication Example\n\t\t\t\t\t</h4><div class=\"side-by-side\"><div class=\"copy\"><p>If you use a framework like Angular, Vue, React, ... you can use this code snippet here to integrate <strong>ZITADEL</strong> into you application</p>\n<p>Library used for this example <a href=\"https://github.com/IdentityModel/oidc-client-js\" target=\"_blank\">https://github.com/IdentityModel/oidc-client-js</a></p>\n</div><div class=\"code\"><div class=''><pre class='language-undefined'><code><span class=\"hljs-keyword\">import</span> { UserManager, WebStorageStateStore, User } <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">&#x27;oidc-client&#x27;</span>;\n\n<span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">default</span> <span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">AuthService</span> </span>{\n\t<span class=\"hljs-keyword\">private</span> userManager: UserManager;\n\n\t<span class=\"hljs-function\"><span class=\"hljs-title\">constructor</span>(<span class=\"hljs-params\"></span>)</span> {\n\t\t<span class=\"hljs-keyword\">const</span> ZITADEL_ISSUER_DOMAIN: <span class=\"hljs-built_in\">string</span> = <span class=\"hljs-string\">&quot;https://issuer.zitadel.ch&quot;</span>;\n\n\t\t<span class=\"hljs-keyword\">const</span> settings: <span class=\"hljs-built_in\">any</span> = {\n\t\t\t<span class=\"hljs-attr\">userStore</span>: <span class=\"hljs-keyword\">new</span> WebStorageStateStore({ <span class=\"hljs-attr\">store</span>: <span class=\"hljs-built_in\">window</span>.localStorage }),\n\t\t\t<span class=\"hljs-attr\">authority</span>: ZITADEL_ISSUER_DOMAIN,\n\t\t\t<span class=\"hljs-attr\">client_id</span>: <span class=\"hljs-string\">&#x27;YOUR_ZITADEL_CLIENT_ID&#x27;</span>,\n\t\t\t<span class=\"hljs-attr\">redirect_uri</span>: <span class=\"hljs-string\">&#x27;http://localhost:44444/callback.html&#x27;</span>,\n\t\t\t<span class=\"hljs-attr\">response_type</span>: <span class=\"hljs-string\">&#x27;code&#x27;</span>,\n\t\t\t<span class=\"hljs-attr\">scope</span>: <span class=\"hljs-string\">&#x27;openid profile&#x27;</span>,\n\t\t\t<span class=\"hljs-attr\">post_logout_redirect_uri</span>: <span class=\"hljs-string\">&#x27;http://localhost:44444/&#x27;</span>,\n\t\t};\n\n\t\t<span class=\"hljs-built_in\">this</span>.userManager = <span class=\"hljs-keyword\">new</span> UserManager(settings);\n\t}\n\n\t<span class=\"hljs-keyword\">public</span> getUser(): <span class=\"hljs-built_in\">Promise</span>&lt;User | <span class=\"hljs-literal\">null</span>&gt; {\n\t\t<span class=\"hljs-keyword\">return</span> <span class=\"hljs-built_in\">this</span>.userManager.getUser();\n\t}\n\n\t<span class=\"hljs-keyword\">public</span> login(): <span class=\"hljs-built_in\">Promise</span>&lt;<span class=\"hljs-built_in\">void</span>&gt; {\n\t\t<span class=\"hljs-keyword\">return</span> <span class=\"hljs-built_in\">this</span>.userManager.signinRedirect();\n\t}\n\n\t<span class=\"hljs-keyword\">public</span> logout(): <span class=\"hljs-built_in\">Promise</span>&lt;<span class=\"hljs-built_in\">void</span>&gt; {\n\t\t<span class=\"hljs-keyword\">return</span> <span class=\"hljs-built_in\">this</span>.userManager.signoutRedirect();\n\t}\n\n\t<span class=\"hljs-keyword\">public</span> getAccessToken(): <span class=\"hljs-built_in\">Promise</span>&lt;<span class=\"hljs-built_in\">string</span>&gt; {\n\t\t<span class=\"hljs-keyword\">return</span> <span class=\"hljs-built_in\">this</span>.userManager.getUser().then(<span class=\"hljs-function\">(<span class=\"hljs-params\">data: <span class=\"hljs-built_in\">any</span></span>) =&gt;</span> {\n\t\t\t<span class=\"hljs-keyword\">return</span> data.access_token;\n\t\t});\n\t}\n}</code></pre></div></div></div><div class=\"side-by-side\"><div class=\"copy\">","metadata":{"title":"Single Page Application","description":"..."},"subsections":[{"slug":"SPA_Protocol_and_Flow_recommendation","title":"SPA Protocol and Flow recommendation","level":3},{"slug":"Typescript_Example","title":"Typescript Example","level":3},{"slug":"Typescript_Authentication_Example","title":"Typescript Authentication Example","level":4}],"slug":"Single_Page_Application","file":"01-singlepageapp.en.md"},{"html":"\n\t\t\t\t\t<h3>\n\t\t\t\t\t\t<span id=\"SSA_Protocol_and_Flow_recommendation\" class=\"offset-anchor\" ></span>\n\t\t\t\t\t\t<a href=\"integrate#SSA_Protocol_and_Flow_recommendation\" class=\"anchor\" aria-hidden=\"true\"> <i class=\"las la-link\"></i> </a>\n\t\t\t\t\t\tSSA Protocol and Flow recommendation\n\t\t\t\t\t</h3>\n\t\t\t\t\t<h3>\n\t\t\t\t\t\t<span id=\"ASP_net_core_example\" class=\"offset-anchor\" ></span>\n\t\t\t\t\t\t<a href=\"integrate#ASP_net_core_example\" class=\"anchor\" aria-hidden=\"true\"> <i class=\"las la-link\"></i> </a>\n\t\t\t\t\t\tASP.net core example\n\t\t\t\t\t</h3><blockquote>\n<p>Link here</p>\n</blockquote>\n","metadata":{"title":"Server Side Application","description":"..."},"subsections":[{"slug":"SSA_Protocol_and_Flow_recommendation","title":"SSA Protocol and Flow recommendation","level":3},{"slug":"ASP_net_core_example","title":"ASP.net core example","level":3}],"slug":"Server_Side_Application","file":"02-serverapp.en.md"},{"html":"\n\t\t\t\t\t<h3>\n\t\t\t\t\t\t<span id=\"Mobile_App_Protocol_and_Flow_recommendation\" class=\"offset-anchor\" ></span>\n\t\t\t\t\t\t<a href=\"integrate#Mobile_App_Protocol_and_Flow_recommendation\" class=\"anchor\" aria-hidden=\"true\"> <i class=\"las la-link\"></i> </a>\n\t\t\t\t\t\tMobile App Protocol and Flow recommendation\n\t\t\t\t\t</h3>\n\t\t\t\t\t<h3>\n\t\t\t\t\t\t<span id=\"Swift_Example\" class=\"offset-anchor\" ></span>\n\t\t\t\t\t\t<a href=\"integrate#Swift_Example\" class=\"anchor\" aria-hidden=\"true\"> <i class=\"las la-link\"></i> </a>\n\t\t\t\t\t\tSwift Example\n\t\t\t\t\t</h3><blockquote>\n<p>Link here</p>\n</blockquote>\n\n\t\t\t\t\t<h3>\n\t\t\t\t\t\t<span id=\"Java_Example\" class=\"offset-anchor\" ></span>\n\t\t\t\t\t\t<a href=\"integrate#Java_Example\" class=\"anchor\" aria-hidden=\"true\"> <i class=\"las la-link\"></i> </a>\n\t\t\t\t\t\tJava Example\n\t\t\t\t\t</h3><blockquote>\n<p>Link here</p>\n</blockquote>\n","metadata":{"title":"Mobile Application","description":"..."},"subsections":[{"slug":"Mobile_App_Protocol_and_Flow_recommendation","title":"Mobile App Protocol and Flow recommendation","level":3},{"slug":"Swift_Example","title":"Swift Example","level":3},{"slug":"Java_Example","title":"Java Example","level":3}],"slug":"Mobile_Application","file":"03-mobileapp.en.md"},{"html":"\n\t\t\t\t\t<h3>\n\t\t\t\t\t\t<span id=\"Native_App_Protocol_and_Flow_recommendation\" class=\"offset-anchor\" ></span>\n\t\t\t\t\t\t<a href=\"integrate#Native_App_Protocol_and_Flow_recommendation\" class=\"anchor\" aria-hidden=\"true\"> <i class=\"las la-link\"></i> </a>\n\t\t\t\t\t\tNative App Protocol and Flow recommendation\n\t\t\t\t\t</h3>\n\t\t\t\t\t<h3>\n\t\t\t\t\t\t<span id=\"Electron_Example\" class=\"offset-anchor\" ></span>\n\t\t\t\t\t\t<a href=\"integrate#Electron_Example\" class=\"anchor\" aria-hidden=\"true\"> <i class=\"las la-link\"></i> </a>\n\t\t\t\t\t\tElectron Example\n\t\t\t\t\t</h3><blockquote>\n<p>Link here</p>\n</blockquote>\n\n\t\t\t\t\t<h3>\n\t\t\t\t\t\t<span id=\"c_Example\" class=\"offset-anchor\" ></span>\n\t\t\t\t\t\t<a href=\"integrate#c_Example\" class=\"anchor\" aria-hidden=\"true\"> <i class=\"las la-link\"></i> </a>\n\t\t\t\t\t\tc# Example\n\t\t\t\t\t</h3><blockquote>\n<p>Link here</p>\n</blockquote>\n","metadata":{"title":"Native Application","description":"..."},"subsections":[{"slug":"Native_App_Protocol_and_Flow_recommendation","title":"Native App Protocol and Flow recommendation","level":3},{"slug":"Electron_Example","title":"Electron Example","level":3},{"slug":"c_Example","title":"c# Example","level":3}],"slug":"Native_Application","file":"04-nativeapp.en.md"},{"html":"\n\t\t\t\t\t<h3>\n\t\t\t\t\t\t<span id=\"Proxy_Protocol_and_Flow_recommendation\" class=\"offset-anchor\" ></span>\n\t\t\t\t\t\t<a href=\"integrate#Proxy_Protocol_and_Flow_recommendation\" class=\"anchor\" aria-hidden=\"true\"> <i class=\"las la-link\"></i> </a>\n\t\t\t\t\t\tProxy Protocol and Flow recommendation\n\t\t\t\t\t</h3>\n\t\t\t\t\t<h3>\n\t\t\t\t\t\t<span id=\"Ambassador_Example\" class=\"offset-anchor\" ></span>\n\t\t\t\t\t\t<a href=\"integrate#Ambassador_Example\" class=\"anchor\" aria-hidden=\"true\"> <i class=\"las la-link\"></i> </a>\n\t\t\t\t\t\tAmbassador Example\n\t\t\t\t\t</h3><p>According to <a href=\"https://www.getambassador.io/docs/latest/\" target=\"_blank\">https://www.getambassador.io/docs/latest/</a> Ambassador is a:</p>\n<blockquote>\n<p>The Ambassador Edge Stack is a comprehensive, self-service edge stack and API Gateway for Kubernetes built on Envoy Proxy. The shift to Kubernetes and microservices has profound consequences for the capabilities you need at the edge, as well as how you manage the edge. The Ambassador Edge Stack has been engineered with this world in mind.</p>\n</blockquote>\n<p>You can use <strong>ZITADEL</strong> for Authentication and Authorization with <strong>Ambassador</strong>.</p>\n<blockquote>\n<p>The redirect URI is <code>https://{AMBASSADOR_URL}/.ambassador/oauth2/redirection-endpoint</code></p>\n</blockquote>\n\n\t\t\t\t\t<h4>\n\t\t\t\t\t\t<span id=\"Use_Ambassador_to_Authenticate_with_ZITADEL\" class=\"offset-anchor\" ></span>\n\t\t\t\t\t\t<a href=\"integrate#Use_Ambassador_to_Authenticate_with_ZITADEL\" class=\"anchor\" aria-hidden=\"true\"> <i class=\"las la-link\"></i> </a>\n\t\t\t\t\t\tUse Ambassador to Authenticate with ZITADEL\n\t\t\t\t\t</h4><p>With this you can use Ambassador to initiate the Authorization Code Flow.</p>\n<div class=''><pre class='language-undefined'><code><span class=\"hljs-attr\">apiVersion:</span> <span class=\"hljs-string\">getambassador.io/v2</span>\n<span class=\"hljs-attr\">kind:</span> <span class=\"hljs-string\">Filter</span>\n<span class=\"hljs-attr\">metadata:</span>\n  <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">zitadel-filter</span>\n  <span class=\"hljs-attr\">namespace:</span> <span class=\"hljs-string\">default</span>\n<span class=\"hljs-attr\">spec:</span>\n  <span class=\"hljs-attr\">OAuth2:</span>\n\t<span class=\"hljs-attr\">authorizationURL:</span> <span class=\"hljs-string\">https://accounts.zitadel.ch/oauth/v2/authorize</span>\n\t<span class=\"hljs-attr\">clientID:</span> {<span class=\"hljs-string\">ZITADEL_GENERATED_CLIENT_ID</span>}\n\t<span class=\"hljs-attr\">secret:</span> {<span class=\"hljs-string\">ZITADEL_GENERATED_CLIENT_SECRET</span>}\n\t<span class=\"hljs-attr\">protectedOrigins:</span>\n\t<span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">origin:</span> <span class=\"hljs-string\">https://{PROTECTED_URL}</span></code></pre></div><div class=''><pre class='language-undefined'><code><span class=\"hljs-attr\">apiVersion:</span> <span class=\"hljs-string\">getambassador.io/v2</span>\n<span class=\"hljs-attr\">kind:</span> <span class=\"hljs-string\">FilterPolicy</span>\n<span class=\"hljs-attr\">metadata:</span>\n  <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">zitadel-policy</span>\n  <span class=\"hljs-attr\">namespace:</span> <span class=\"hljs-string\">default</span>\n<span class=\"hljs-attr\">spec:</span>\n  <span class=\"hljs-attr\">rules:</span>\n\t<span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">host:</span> <span class=\"hljs-string\">&quot;*&quot;</span>\n\t  <span class=\"hljs-attr\">path:</span> <span class=\"hljs-string\">/backend/get-quote/</span>\n\t  <span class=\"hljs-attr\">filters:</span>\n\t\t<span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">zitadel-filter</span></code></pre></div>\n\t\t\t\t\t<h4>\n\t\t\t\t\t\t<span id=\"Use_Ambassador_to_check_JWT_Bearer_Tokens\" class=\"offset-anchor\" ></span>\n\t\t\t\t\t\t<a href=\"integrate#Use_Ambassador_to_check_JWT_Bearer_Tokens\" class=\"anchor\" aria-hidden=\"true\"> <i class=\"las la-link\"></i> </a>\n\t\t\t\t\t\tUse Ambassador to check JWT Bearer Tokens\n\t\t\t\t\t</h4><p>If you would like <strong>Ambassador</strong> to verify a JWT token from the authorization header you can do so by configuring <strong>ZITADEL&#39;s</strong> endpoints.</p>\n<blockquote>\n<p>Make sure that in your client settings of <strong>ZITADEL</strong> the &quot;AuthToken Options&quot; is <strong>JWT</strong> by default <strong>ZITADEL</strong> will use opaque tokens!</p>\n</blockquote>\n<div class=''><pre class='language-undefined'><code><span class=\"hljs-attr\">apiVersion:</span> <span class=\"hljs-string\">getambassador.io/v2</span>\n<span class=\"hljs-attr\">kind:</span> <span class=\"hljs-string\">Filter</span>\n<span class=\"hljs-attr\">metadata:</span>\n  <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">zitadel-filter</span>\n  <span class=\"hljs-attr\">namespace:</span> <span class=\"hljs-string\">default</span>\n<span class=\"hljs-attr\">spec:</span>\n  <span class=\"hljs-attr\">JWT:</span>\n\t<span class=\"hljs-attr\">jwksURI:</span>            <span class=\"hljs-string\">&quot;https://api.zitadel.ch/oauth/v2/keys&quot;</span>\n\t<span class=\"hljs-attr\">validAlgorithms:</span>\n\t<span class=\"hljs-bullet\">-</span> <span class=\"hljs-string\">&quot;RS256&quot;</span>\n\t<span class=\"hljs-attr\">issuer:</span>             <span class=\"hljs-string\">&quot;https://issuer.zitadel.ch&quot;</span>\n\t<span class=\"hljs-attr\">requireIssuer:</span>      <span class=\"hljs-literal\">true</span></code></pre></div><div class=''><pre class='language-undefined'><code><span class=\"hljs-attr\">apiVersion:</span> <span class=\"hljs-string\">getambassador.io/v2</span>\n<span class=\"hljs-attr\">kind:</span> <span class=\"hljs-string\">FilterPolicy</span>\n<span class=\"hljs-attr\">metadata:</span>\n  <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">zitadel-policy</span>\n  <span class=\"hljs-attr\">namespace:</span> <span class=\"hljs-string\">default</span>\n<span class=\"hljs-attr\">spec:</span>\n  <span class=\"hljs-attr\">rules:</span>\n\t<span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">host:</span> <span class=\"hljs-string\">&quot;*&quot;</span>\n\t  <span class=\"hljs-attr\">path:</span> <span class=\"hljs-string\">/backend/get-quote/</span>\n\t  <span class=\"hljs-attr\">filters:</span>\n\t\t<span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">zitadel-filter</span></code></pre></div><blockquote>\n<p>Additional Infos can be found with <a href=\"https://www.getambassador.io/docs/latest/howtos/oauth-oidc-auth/\" target=\"_blank\">Ambassadors Documentation</a></p>\n</blockquote>\n\n\t\t\t\t\t<h3>\n\t\t\t\t\t\t<span id=\"OAuth2_Proxy_Example\" class=\"offset-anchor\" ></span>\n\t\t\t\t\t\t<a href=\"integrate#OAuth2_Proxy_Example\" class=\"anchor\" aria-hidden=\"true\"> <i class=\"las la-link\"></i> </a>\n\t\t\t\t\t\tOAuth2 Proxy Example\n\t\t\t\t\t</h3><p><a href=\"https://github.com/oauth2-proxy/oauth2-proxy\" target=\"_blank\">OAuth2-proxy</a> is a project which allows services to delegate the authentication flow to a IDP, for example <strong>ZITADEL</strong></p>\n\n\t\t\t\t\t<h4>\n\t\t\t\t\t\t<span id=\"OAuth2_Proxy_Authentication_Example\" class=\"offset-anchor\" ></span>\n\t\t\t\t\t\t<a href=\"integrate#OAuth2_Proxy_Authentication_Example\" class=\"anchor\" aria-hidden=\"true\"> <i class=\"las la-link\"></i> </a>\n\t\t\t\t\t\tOAuth2 Proxy Authentication Example\n\t\t\t\t\t</h4><div class=''><pre class='language-undefined'><code>provider = &quot;oidc&quot;\nuser_id_claim = &quot;sub&quot; #uses the subject as ID instead of the email\nprovider_display_name &quot;ZITADEL&quot;\nredirect_url = &quot;http://127.0.0.1:4180/oauth2/callback&quot;\noidc_issuer_url = &quot;https://issuer.zitadel.ch&quot;\nupstreams = [\n\t&quot;https://example.corp.com&quot;\n]\nemail_domains = [\n\t&quot;*&quot;\n]\nclient_id = &quot;{ZITADEL_GENERATED_CLIENT_ID}&quot;\nclient_secret = &quot;{ZITADEL_GENERATED_CLIENT_SECRET}&quot;\npass_access_token = true\ncookie_secret = &quot;{SUPPLY_SOME_SECRET_HERE}&quot;\nskip_provider_button = true\ncookie_secure = false #localdev only false\nhttp_address = &quot;127.0.0.1:4180&quot; #localdev only</code></pre></div><blockquote>\n<p>This was tested with version <code>oauth2-proxy v6.1.1 (built with go1.14.2)</code></p>\n</blockquote>\n\n\t\t\t\t\t<h4>\n\t\t\t\t\t\t<span id=\"OAuth2_Proxy_Authorization_Example\" class=\"offset-anchor\" ></span>\n\t\t\t\t\t\t<a href=\"integrate#OAuth2_Proxy_Authorization_Example\" class=\"anchor\" aria-hidden=\"true\"> <i class=\"las la-link\"></i> </a>\n\t\t\t\t\t\tOAuth2 Proxy Authorization Example\n\t\t\t\t\t</h4><blockquote>\n<p>Not yet supported but with the work of <a href=\"https://github.com/oauth2-proxy/oauth2-proxy/pull/797\" target=\"_blank\">https://github.com/oauth2-proxy/oauth2-proxy/pull/797</a> it should be possible in the future</p>\n</blockquote>\n\n\t\t\t\t\t<h3>\n\t\t\t\t\t\t<span id=\"Cloudflare_Access_Example\" class=\"offset-anchor\" ></span>\n\t\t\t\t\t\t<a href=\"integrate#Cloudflare_Access_Example\" class=\"anchor\" aria-hidden=\"true\"> <i class=\"las la-link\"></i> </a>\n\t\t\t\t\t\tCloudflare Access Example\n\t\t\t\t\t</h3><blockquote>\n<p>TODO</p>\n</blockquote>\n\n\t\t\t\t\t<h3>\n\t\t\t\t\t\t<span id=\"NGINX_Example\" class=\"offset-anchor\" ></span>\n\t\t\t\t\t\t<a href=\"integrate#NGINX_Example\" class=\"anchor\" aria-hidden=\"true\"> <i class=\"las la-link\"></i> </a>\n\t\t\t\t\t\tNGINX Example\n\t\t\t\t\t</h3><blockquote>\n<p>TODO</p>\n</blockquote>\n","metadata":{"title":"Proxy / WAF","description":"..."},"subsections":[{"slug":"Proxy_Protocol_and_Flow_recommendation","title":"Proxy Protocol and Flow recommendation","level":3},{"slug":"Ambassador_Example","title":"Ambassador Example","level":3},{"slug":"Use_Ambassador_to_Authenticate_with_ZITADEL","title":"Use Ambassador to Authenticate with ZITADEL","level":4},{"slug":"Use_Ambassador_to_check_JWT_Bearer_Tokens","title":"Use Ambassador to check JWT Bearer Tokens","level":4},{"slug":"OAuth2_Proxy_Example","title":"OAuth2 Proxy Example","level":3},{"slug":"OAuth2_Proxy_Authentication_Example","title":"OAuth2 Proxy Authentication Example","level":4},{"slug":"OAuth2_Proxy_Authorization_Example","title":"OAuth2 Proxy Authorization Example","level":4},{"slug":"Cloudflare_Access_Example","title":"Cloudflare Access Example","level":3},{"slug":"NGINX_Example","title":"NGINX Example","level":3}],"slug":"Proxy_WAF","file":"05-proxy.en.md"},{"html":"\n\t\t\t\t\t<h3>\n\t\t\t\t\t\t<span id=\"API_Protocol_and_Flow_recommendation\" class=\"offset-anchor\" ></span>\n\t\t\t\t\t\t<a href=\"integrate#API_Protocol_and_Flow_recommendation\" class=\"anchor\" aria-hidden=\"true\"> <i class=\"las la-link\"></i> </a>\n\t\t\t\t\t\tAPI Protocol and Flow recommendation\n\t\t\t\t\t</h3>\n\t\t\t\t\t<h3>\n\t\t\t\t\t\t<span id=\"Go_Example\" class=\"offset-anchor\" ></span>\n\t\t\t\t\t\t<a href=\"integrate#Go_Example\" class=\"anchor\" aria-hidden=\"true\"> <i class=\"las la-link\"></i> </a>\n\t\t\t\t\t\tGo Example\n\t\t\t\t\t</h3>\n\t\t\t\t\t<h3>\n\t\t\t\t\t\t<span id=\"net_core_Example\" class=\"offset-anchor\" ></span>\n\t\t\t\t\t\t<a href=\"integrate#net_core_Example\" class=\"anchor\" aria-hidden=\"true\"> <i class=\"las la-link\"></i> </a>\n\t\t\t\t\t\t.net core Example\n\t\t\t\t\t</h3>\n\t\t\t\t\t<h3>\n\t\t\t\t\t\t<span id=\"node_js_Example\" class=\"offset-anchor\" ></span>\n\t\t\t\t\t\t<a href=\"integrate#node_js_Example\" class=\"anchor\" aria-hidden=\"true\"> <i class=\"las la-link\"></i> </a>\n\t\t\t\t\t\tnode.js Example\n\t\t\t\t\t</h3>","metadata":{"title":"API","description":"..."},"subsections":[{"slug":"API_Protocol_and_Flow_recommendation","title":"API Protocol and Flow recommendation","level":3},{"slug":"Go_Example","title":"Go Example","level":3},{"slug":"net_core_Example","title":".net core Example","level":3},{"slug":"node_js_Example","title":"node.js Example","level":3}],"slug":"API","file":"06-api.en.md"},{"html":"\n\t\t\t\t\t<h3>\n\t\t\t\t\t\t<span id=\"Grafana_Example\" class=\"offset-anchor\" ></span>\n\t\t\t\t\t\t<a href=\"integrate#Grafana_Example\" class=\"anchor\" aria-hidden=\"true\"> <i class=\"las la-link\"></i> </a>\n\t\t\t\t\t\tGrafana Example\n\t\t\t\t\t</h3><p><strong>Grafana</strong> defines itself as &quot;The open-source platform for monitoring and observability.&quot;</p>\n<p>The source code is provided on <a href=\"https://github.com/grafana/grafana\" target=\"_blank\">Grafana&#39;s Github Repository</a></p>\n\n\t\t\t\t\t<h4>\n\t\t\t\t\t\t<span id=\"Authenticate_Grafana_with_ZITADEL\" class=\"offset-anchor\" ></span>\n\t\t\t\t\t\t<a href=\"integrate#Authenticate_Grafana_with_ZITADEL\" class=\"anchor\" aria-hidden=\"true\"> <i class=\"las la-link\"></i> </a>\n\t\t\t\t\t\tAuthenticate Grafana with ZITADEL\n\t\t\t\t\t</h4><p>To authenticate <strong>Grafana</strong> with ZITADEL you can use the provided <strong>Generic OAuth</strong> plugin.</p>\n<blockquote>\n<p>We do not recommend that you rely on <code>allowed_domain</code> as means of authorizing subjects, but instead use <strong>ZITADEL&#39;s</strong> RBAC Assertion</p>\n</blockquote>\n<ol>\n<li>Create a new project or use an existing one</li>\n<li>Add OpenID Connect / OAuth 2.0 client to the project (See screenshot for settings)</li>\n<li>Add config to your <strong>Grafana</strong> instance and restart it</li>\n<li>Login to <strong>Grafana</strong></li>\n</ol>\n<div class=''><pre class='language-undefined'><code><span class=\"hljs-section\">[auth.generic_oauth]</span>\n<span class=\"hljs-attr\">enabled</span> = <span class=\"hljs-literal\">true</span>\n<span class=\"hljs-attr\">name</span>= ZITADEL\n<span class=\"hljs-attr\">client_id</span> = {ZITADEL_GENERATED_CLIENT_ID}\n<span class=\"hljs-attr\">client_secret</span> = {ZITADEL_GENERATED_CLIENT_SECRET}\n<span class=\"hljs-attr\">scopes</span> = openid profile email\n<span class=\"hljs-attr\">auth_url</span> = https://accounts.zitadel.ch/oauth/v2/authorize\n<span class=\"hljs-attr\">token_url</span> = https://api.zitadel.ch/oauth/v2/token\n<span class=\"hljs-attr\">api_url</span> = https://api.zitadel.ch/oauth/v2/userinfo\n<span class=\"hljs-attr\">allow_sign_up</span> = <span class=\"hljs-literal\">true</span></code></pre></div><blockquote>\n<p>Grafanas&#39;s redirect is URI <a href=\"https://yourdomain.tld/login/generic_oauth\" target=\"_blank\" title=\"undefined\">https://yourdomain.tld/login/generic_oauth</a></p>\n</blockquote>\n<div class=\"zitadel-gallery\" itemscope itemtype=\"http://schema.org/ImageGallery\">\n    <figure itemprop=\"associatedMedia\" itemscope itemtype=\"http://schema.org/ImageObject\">\n        <a href=\"img/grafana_client_settings.png\" itemprop=\"contentUrl\" data-size=\"1920x1080\">\n            <img src=\"img/grafana_client_settings.png\" itemprop=\"thumbnail\" alt=\"Client Settings for Grafana\" />\n        </a>\n        <figcaption itemprop=\"caption description\">Client Settings for Grafana</figcaption>\n    </figure>\n</div>\n\n\n\t\t\t\t\t<h4>\n\t\t\t\t\t\t<span id=\"Authorizes_Users_with_Roles_in_Grafana\" class=\"offset-anchor\" ></span>\n\t\t\t\t\t\t<a href=\"integrate#Authorizes_Users_with_Roles_in_Grafana\" class=\"anchor\" aria-hidden=\"true\"> <i class=\"las la-link\"></i> </a>\n\t\t\t\t\t\tAuthorizes Users with Roles in Grafana\n\t\t\t\t\t</h4><p><strong>ZITADEL</strong> provides projects with the option to provide Grafana with the users role.</p>\n<ol>\n<li>Create Roles (Admin, Editor, Viewer) in <strong>ZITADEL&#39;s</strong> project which contains <strong>Grafana</strong></li>\n<li>Enable &quot;Assert Roles on Authentication&quot; so that the roles are asserted to the userinfo endpoint</li>\n<li>(Optional) Enable &quot;Check roles on Authentication&quot;, this will prevent that someone without any role to login <strong>Grafana</strong> via <strong>ZITADEL</strong></li>\n<li>Append the config below to your <strong>Grafana</strong> instance and reload</li>\n<li>Authorize the necessary users</li>\n</ol>\n<div class=''><pre class='language-undefined'><code>[auth.generic_oauth]\n...\nrole_attribute_path =  keys(&quot;urn:zitadel:iam:org:project:roles&quot;) | contains(@, &#x27;Admin&#x27;) &amp;&amp; &#x27;Admin&#x27; || contains(@, &#x27;Editor&#x27;) &amp;&amp; &#x27;Editor&#x27; || &#x27;Viewer&#x27;\n...</code></pre></div><div class=\"zitadel-gallery\" itemscope itemtype=\"http://schema.org/ImageGallery\">\n    <figure itemprop=\"associatedMedia\" itemscope itemtype=\"http://schema.org/ImageObject\">\n        <a href=\"img/grafana_project_settings.png\" itemprop=\"contentUrl\" data-size=\"1920x1080\">\n            <img src=\"img/grafana_project_settings.png\" itemprop=\"thumbnail\" alt=\"Project Settings for Grafana\" />\n        </a>\n        <figcaption itemprop=\"caption description\">Project Settings for Grafana</figcaption>\n    </figure>\n    <figure itemprop=\"associatedMedia\" itemscope itemtype=\"http://schema.org/ImageObject\">\n        <a href=\"img/grafana_zitadel_authorization.png\" itemprop=\"contentUrl\" data-size=\"1920x1080\">\n            <img src=\"img/grafana_zitadel_authorization.png\" itemprop=\"thumbnail\" alt=\"Authorization for Grafana Role in ZITADEL\" />\n        </a>\n        <figcaption itemprop=\"caption description\">Authorization for Grafana Role in ZITADEL</figcaption>\n    </figure>\n    <figure itemprop=\"associatedMedia\" itemscope itemtype=\"http://schema.org/ImageObject\">\n        <a href=\"img/grafana_login_button.png\" itemprop=\"contentUrl\" data-size=\"1920x1080\">\n            <img src=\"img/grafana_login_button.png\" itemprop=\"thumbnail\" alt=\"Grafana Login\" />\n        </a>\n        <figcaption itemprop=\"caption description\">Grafana Login</figcaption>\n    </figure>\n    <figure itemprop=\"associatedMedia\" itemscope itemtype=\"http://schema.org/ImageObject\">\n        <a href=\"img/grafana_profile_settings.png\" itemprop=\"contentUrl\" data-size=\"1920x1080\">\n            <img src=\"img/grafana_profile_settings.png\" itemprop=\"thumbnail\" alt=\"Grafana with Editor Role mapped from ZITADEL\" />\n        </a>\n        <figcaption itemprop=\"caption description\">Grafana with Editor Role mapped from ZITADEL</figcaption>\n    </figure>\n</div>\n\n<blockquote>\n<p>Grafana can not directly use ZITADEL delegation feature but normal RBAC works fine\nAdditional infos can be found in the <a href=\"https://grafana.com/docs/grafana/latest/auth/generic-oauth/\" target=\"_blank\">Grafana generic OAuth 2.0 documentation</a></p>\n</blockquote>\n\n\t\t\t\t\t<h3>\n\t\t\t\t\t\t<span id=\"ArgoCD_Example\" class=\"offset-anchor\" ></span>\n\t\t\t\t\t\t<a href=\"integrate#ArgoCD_Example\" class=\"anchor\" aria-hidden=\"true\"> <i class=\"las la-link\"></i> </a>\n\t\t\t\t\t\tArgoCD Example\n\t\t\t\t\t</h3><blockquote>\n<p>TODO</p>\n</blockquote>\n\n\t\t\t\t\t<h3>\n\t\t\t\t\t\t<span id=\"Kubernetes_Example\" class=\"offset-anchor\" ></span>\n\t\t\t\t\t\t<a href=\"integrate#Kubernetes_Example\" class=\"anchor\" aria-hidden=\"true\"> <i class=\"las la-link\"></i> </a>\n\t\t\t\t\t\tKubernetes Example\n\t\t\t\t\t</h3><blockquote>\n<p>TODO</p>\n</blockquote>\n","metadata":{"title":"Products","description":"..."},"subsections":[{"slug":"Grafana_Example","title":"Grafana Example","level":3},{"slug":"Authenticate_Grafana_with_ZITADEL","title":"Authenticate Grafana with ZITADEL","level":4},{"slug":"Authorizes_Users_with_Roles_in_Grafana","title":"Authorizes Users with Roles in Grafana","level":4},{"slug":"ArgoCD_Example","title":"ArgoCD Example","level":3},{"slug":"Kubernetes_Example","title":"Kubernetes Example","level":3}],"slug":"Products","file":"07-products.en.md"}],"seo":""}