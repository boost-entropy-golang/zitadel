<!doctype html> <html class="theme-default typo-default" lang=en> <head> <meta charset=utf-8> <meta content="width=device-width,initial-scale=1" name=viewport> <meta content=#159794 name=theme-color> <base href=/ > <link href=prism.css rel=stylesheet> <link href=manifest.json rel=manifest> <link href=icons/favicon.ico rel=icon type=image/x-icon> <link href=https://maxst.icons8.com/vue-static/landings/line-awesome/line-awesome/1.3.0/css/line-awesome.min.css rel=stylesheet> <link href=default-skin/default-skin.css rel=stylesheet> <link href=photoswipe.css rel=stylesheet> <script src=photoswipe.min.js></script> <script src=photoswipe-ui-default.min.js></script> <link href="https://fonts.googleapis.com/css2?family=Lato&display=swap" rel=stylesheet> <link href=client/client-0d58da27.css rel=stylesheet><link href=client/client-93410d72.css rel=stylesheet><link href=client/[slug]-606ae644.css rel=stylesheet> <style>.hljs,.hljs-subst{color:#e8eaed}.hljs-comment{color:#999}.hljs-tag{color:#3dc9b0}.hljs-keyword{color:#ff5370}.hljs-attr{color:#666}.hljs-number{color:#3dc9b0}.hljs-deletion,.hljs-quote,.hljs-selector-class,.hljs-selector-id,.hljs-string,.hljs-template-tag,.hljs-type{color:#298372}.hljs-section,.hljs-title{color:#298372}.hljs-literal{color:#3dc9b0}.hljs-meta{color:#e8eaed}.hljs-meta-string{color:#e8eaed}</style> <title>ZITADEL Documentation â€¢ integrate</title> <link href=/client/client.f93f5ec2.js rel=modulepreload as=script crossorigin=use-credentials><link href=/client/client-0d58da27.css rel=preload as=style><link href=/client/client-93410d72.css rel=preload as=style><link href=/client/[slug].354040fa.js rel=modulepreload as=script crossorigin=use-credentials><link href=/client/client.d1806c7b.js rel=modulepreload as=script crossorigin=use-credentials><link href=/client/config.956733a8.js rel=modulepreload as=script crossorigin=use-credentials><link href=/client/inject_styles.5607aec6.js rel=modulepreload as=script crossorigin=use-credentials><link href=/client/[slug]-606ae644.css rel=preload as=style></head> <body> <div id=sapper> <main class=svelte-ke1jp4> <div class="svelte-1ulbqkc content"><a href=. class="svelte-1ulbqkc home"><img alt="zitadel logo" src=logos/zitadel-logo-solo-darkdesign.svg class=svelte-1ulbqkc></a> <span class="svelte-1ulbqkc fill-space"></span> <div class="svelte-1ulbqkc btn-wrapper"><button class="svelte-1ulbqkc list-item"><i class="las la-bars svelte-1ulbqkc"></i><span class=svelte-1ulbqkc>Docs</span></button> <div class="svelte-1ulbqkc wrapper"></div></div> <a href=https://zitadel.ch class="svelte-1ulbqkc list-item" target=_blank>More about ZITADEL</a> </div> <div class="svelte-1x6e6fz content listify"><section class=svelte-1x6e6fz data-id=Overview><h2 class=svelte-1x6e6fz><span class=offset-anchor id=Overview></span> <a href=integrate#Overview class=anchor aria-hidden></a> Overview <small class=svelte-1x6e6fz><a href=https://github.com/caos/zitadel/edit/master/site/docs/integrate/00-overview.en.md class=svelte-1x6e6fz title="edit this section"><i class="las la-external-link-alt" style=font-size:24px;height:24px><use xlink:href="#las la-external-link-alt"></use></i></a> </small></h2> <blockquote> <p>All documentations are under active work and subject to change soon!</p> </blockquote> <p>This Integration guide gives you recommendations on how to integrate different Clients with <strong>ZITADEL</strong></p> <ul> <li>Single Page Application</li> <li>Server Side Application</li> <li>Mobile App</li> <li>Native App</li> <li>Reverse Proxy</li> </ul> <p>For more details about how <strong>ZITADEL</strong> treats <a href=documentation#Scopes>scopes</a> and <a href=documentation#Claims>claims</a> see the <a href=documentation>documentations</a>.</p> </section><section class=svelte-1x6e6fz data-id=Single_Page_Application><h2 class=svelte-1x6e6fz><span class=offset-anchor id=Single_Page_Application></span> <a href=integrate#Single_Page_Application class=anchor aria-hidden></a> Single Page Application <small class=svelte-1x6e6fz><a href=https://github.com/caos/zitadel/edit/master/site/docs/integrate/01-singlepageapp.en.md class=svelte-1x6e6fz title="edit this section"><i class="las la-external-link-alt" style=font-size:24px;height:24px><use xlink:href="#las la-external-link-alt"></use></i></a> </small></h2> <h3> <span class=offset-anchor id=SPA_Protocol_and_Flow_recommendation></span> <a href=integrate#SPA_Protocol_and_Flow_recommendation class=anchor aria-hidden=true> <i class="las la-link"></i> </a> SPA Protocol and Flow recommendation </h3><p>If your <a href=administrate#Clients>client</a> is a single page application (SPA) we recommend that you use <a href=documentation#Authorization_Code>Authorization Code</a> in combination with <a href=documentation#Proof_Key_for_Code_Exchange>Proof Key for Code Exchange</a>.</p> <p>This flow has great support with most modern languages and frameworks and is the recommended default.</p> <blockquote> <p>In the OIDC and OAuth world this <strong>client profile</strong> is called "user-agent-based application"</p> </blockquote> <h3> <span class=offset-anchor id=Typescript_Example></span> <a href=integrate#Typescript_Example class=anchor aria-hidden=true> <i class="las la-link"></i> </a> Typescript Example </h3> <h4> <span class=offset-anchor id=Typescript_Authentication_Example></span> <a href=integrate#Typescript_Authentication_Example class=anchor aria-hidden=true> <i class="las la-link"></i> </a> Typescript Authentication Example </h4><p>If you use a framework like Angular, Vue, React, ... you can use this code snippet here to integrate <strong>ZITADEL</strong> into you application</p> <p>Library used for this example <a href=https://github.com/IdentityModel/oidc-client-js target=_blank>https://github.com/IdentityModel/oidc-client-js</a></p> <div class=""><pre class="language-undefined"><code><span class=hljs-keyword>import</span> { UserManager, WebStorageStateStore, User } <span class=hljs-keyword>from</span> <span class=hljs-string>'oidc-client'</span>;

<span class=hljs-keyword>export</span> <span class=hljs-keyword>default</span> <span class=hljs-class><span class=hljs-keyword>class</span> <span class=hljs-title>AuthService</span> </span>{
	<span class=hljs-keyword>private</span> userManager: UserManager;

	<span class=hljs-function><span class=hljs-title>constructor</span>(<span class=hljs-params></span>)</span> {
		<span class=hljs-keyword>const</span> ZITADEL_ISSUER_DOMAIN: <span class=hljs-built_in>string</span> = <span class=hljs-string>"https://issuer.zitadel.ch"</span>;

		<span class=hljs-keyword>const</span> settings: <span class=hljs-built_in>any</span> = {
			<span class=hljs-attr>userStore</span>: <span class=hljs-keyword>new</span> WebStorageStateStore({ <span class=hljs-attr>store</span>: <span class=hljs-built_in>window</span>.localStorage }),
			<span class=hljs-attr>authority</span>: ZITADEL_ISSUER_DOMAIN,
			<span class=hljs-attr>client_id</span>: <span class=hljs-string>'YOUR_ZITADEL_CLIENT_ID'</span>,
			<span class=hljs-attr>redirect_uri</span>: <span class=hljs-string>'http://localhost:44444/callback.html'</span>,
			<span class=hljs-attr>response_type</span>: <span class=hljs-string>'code'</span>,
			<span class=hljs-attr>scope</span>: <span class=hljs-string>'openid profile'</span>,
			<span class=hljs-attr>post_logout_redirect_uri</span>: <span class=hljs-string>'http://localhost:44444/'</span>,
		};

		<span class=hljs-built_in>this</span>.userManager = <span class=hljs-keyword>new</span> UserManager(settings);
	}

	<span class=hljs-keyword>public</span> getUser(): <span class=hljs-built_in>Promise</span>&lt;User | <span class=hljs-literal>null</span>> {
		<span class=hljs-keyword>return</span> <span class=hljs-built_in>this</span>.userManager.getUser();
	}

	<span class=hljs-keyword>public</span> login(): <span class=hljs-built_in>Promise</span>&lt;<span class=hljs-built_in>void</span>> {
		<span class=hljs-keyword>return</span> <span class=hljs-built_in>this</span>.userManager.signinRedirect();
	}

	<span class=hljs-keyword>public</span> logout(): <span class=hljs-built_in>Promise</span>&lt;<span class=hljs-built_in>void</span>> {
		<span class=hljs-keyword>return</span> <span class=hljs-built_in>this</span>.userManager.signoutRedirect();
	}

	<span class=hljs-keyword>public</span> getAccessToken(): <span class=hljs-built_in>Promise</span>&lt;<span class=hljs-built_in>string</span>> {
		<span class=hljs-keyword>return</span> <span class=hljs-built_in>this</span>.userManager.getUser().then(<span class=hljs-function>(<span class=hljs-params>data: <span class=hljs-built_in>any</span></span>) =></span> {
			<span class=hljs-keyword>return</span> data.access_token;
		});
	}
}</code></pre></div> </section><section class=svelte-1x6e6fz data-id=Server_Side_Application><h2 class=svelte-1x6e6fz><span class=offset-anchor id=Server_Side_Application></span> <a href=integrate#Server_Side_Application class=anchor aria-hidden></a> Server Side Application <small class=svelte-1x6e6fz><a href=https://github.com/caos/zitadel/edit/master/site/docs/integrate/02-serverapp.en.md class=svelte-1x6e6fz title="edit this section"><i class="las la-external-link-alt" style=font-size:24px;height:24px><use xlink:href="#las la-external-link-alt"></use></i></a> </small></h2> <h3> <span class=offset-anchor id=SSA_Protocol_and_Flow_recommendation></span> <a href=integrate#SSA_Protocol_and_Flow_recommendation class=anchor aria-hidden=true> <i class="las la-link"></i> </a> SSA Protocol and Flow recommendation </h3> <h3> <span class=offset-anchor id=ASP_net_core_example></span> <a href=integrate#ASP_net_core_example class=anchor aria-hidden=true> <i class="las la-link"></i> </a> ASP.net core example </h3><blockquote> <p>Link here</p> </blockquote> </section><section class=svelte-1x6e6fz data-id=Mobile_Application><h2 class=svelte-1x6e6fz><span class=offset-anchor id=Mobile_Application></span> <a href=integrate#Mobile_Application class=anchor aria-hidden></a> Mobile Application <small class=svelte-1x6e6fz><a href=https://github.com/caos/zitadel/edit/master/site/docs/integrate/03-mobileapp.en.md class=svelte-1x6e6fz title="edit this section"><i class="las la-external-link-alt" style=font-size:24px;height:24px><use xlink:href="#las la-external-link-alt"></use></i></a> </small></h2> <h3> <span class=offset-anchor id=Mobile_App_Protocol_and_Flow_recommendation></span> <a href=integrate#Mobile_App_Protocol_and_Flow_recommendation class=anchor aria-hidden=true> <i class="las la-link"></i> </a> Mobile App Protocol and Flow recommendation </h3> <h3> <span class=offset-anchor id=Swift_Example></span> <a href=integrate#Swift_Example class=anchor aria-hidden=true> <i class="las la-link"></i> </a> Swift Example </h3><blockquote> <p>Link here</p> </blockquote> <h3> <span class=offset-anchor id=Java_Example></span> <a href=integrate#Java_Example class=anchor aria-hidden=true> <i class="las la-link"></i> </a> Java Example </h3><blockquote> <p>Link here</p> </blockquote> </section><section class=svelte-1x6e6fz data-id=Native_Application><h2 class=svelte-1x6e6fz><span class=offset-anchor id=Native_Application></span> <a href=integrate#Native_Application class=anchor aria-hidden></a> Native Application <small class=svelte-1x6e6fz><a href=https://github.com/caos/zitadel/edit/master/site/docs/integrate/04-nativeapp.en.md class=svelte-1x6e6fz title="edit this section"><i class="las la-external-link-alt" style=font-size:24px;height:24px><use xlink:href="#las la-external-link-alt"></use></i></a> </small></h2> <h3> <span class=offset-anchor id=Native_App_Protocol_and_Flow_recommendation></span> <a href=integrate#Native_App_Protocol_and_Flow_recommendation class=anchor aria-hidden=true> <i class="las la-link"></i> </a> Native App Protocol and Flow recommendation </h3> <h3> <span class=offset-anchor id=Electron_Example></span> <a href=integrate#Electron_Example class=anchor aria-hidden=true> <i class="las la-link"></i> </a> Electron Example </h3><blockquote> <p>Link here</p> </blockquote> <h3> <span class=offset-anchor id=c_Example></span> <a href=integrate#c_Example class=anchor aria-hidden=true> <i class="las la-link"></i> </a> c# Example </h3><blockquote> <p>Link here</p> </blockquote> </section><section class=svelte-1x6e6fz data-id=Proxy_WAF><h2 class=svelte-1x6e6fz><span class=offset-anchor id=Proxy_WAF></span> <a href=integrate#Proxy_WAF class=anchor aria-hidden></a> Proxy / WAF <small class=svelte-1x6e6fz><a href=https://github.com/caos/zitadel/edit/master/site/docs/integrate/05-proxy.en.md class=svelte-1x6e6fz title="edit this section"><i class="las la-external-link-alt" style=font-size:24px;height:24px><use xlink:href="#las la-external-link-alt"></use></i></a> </small></h2> <h3> <span class=offset-anchor id=Proxy_Protocol_and_Flow_recommendation></span> <a href=integrate#Proxy_Protocol_and_Flow_recommendation class=anchor aria-hidden=true> <i class="las la-link"></i> </a> Proxy Protocol and Flow recommendation </h3> <h3> <span class=offset-anchor id=Ambassador_Example></span> <a href=integrate#Ambassador_Example class=anchor aria-hidden=true> <i class="las la-link"></i> </a> Ambassador Example </h3><p>According to <a href=https://www.getambassador.io/docs/latest/ target=_blank>https://www.getambassador.io/docs/latest/</a> Ambassador is a:</p> <blockquote> <p>The Ambassador Edge Stack is a comprehensive, self-service edge stack and API Gateway for Kubernetes built on Envoy Proxy. The shift to Kubernetes and microservices has profound consequences for the capabilities you need at the edge, as well as how you manage the edge. The Ambassador Edge Stack has been engineered with this world in mind.</p> </blockquote> <p>You can use <strong>ZITADEL</strong> for Authentication and Authorization with <strong>Ambassador</strong>.</p> <blockquote> <p>The redirect URI is <code>https://{AMBASSADOR_URL}/.ambassador/oauth2/redirection-endpoint</code></p> </blockquote> <h4> <span class=offset-anchor id=Use_Ambassador_to_Authenticate_with_ZITADEL></span> <a href=integrate#Use_Ambassador_to_Authenticate_with_ZITADEL class=anchor aria-hidden=true> <i class="las la-link"></i> </a> Use Ambassador to Authenticate with ZITADEL </h4><p>With this you can use Ambassador to initiate the Authorization Code Flow.</p> <div class=""><pre class="language-undefined"><code><span class=hljs-attr>apiVersion:</span> <span class=hljs-string>getambassador.io/v2</span>
<span class=hljs-attr>kind:</span> <span class=hljs-string>Filter</span>
<span class=hljs-attr>metadata:</span>
  <span class=hljs-attr>name:</span> <span class=hljs-string>zitadel-filter</span>
  <span class=hljs-attr>namespace:</span> <span class=hljs-string>default</span>
<span class=hljs-attr>spec:</span>
  <span class=hljs-attr>OAuth2:</span>
	<span class=hljs-attr>authorizationURL:</span> <span class=hljs-string>https://accounts.zitadel.ch/oauth/v2/authorize</span>
	<span class=hljs-attr>clientID:</span> {<span class=hljs-string>ZITADEL_GENERATED_CLIENT_ID</span>}
	<span class=hljs-attr>secret:</span> {<span class=hljs-string>ZITADEL_GENERATED_CLIENT_SECRET</span>}
	<span class=hljs-attr>protectedOrigins:</span>
	<span class=hljs-bullet>-</span> <span class=hljs-attr>origin:</span> <span class=hljs-string>https://{PROTECTED_URL}</span></code></pre></div><div class=""><pre class="language-undefined"><code><span class=hljs-attr>apiVersion:</span> <span class=hljs-string>getambassador.io/v2</span>
<span class=hljs-attr>kind:</span> <span class=hljs-string>FilterPolicy</span>
<span class=hljs-attr>metadata:</span>
  <span class=hljs-attr>name:</span> <span class=hljs-string>zitadel-policy</span>
  <span class=hljs-attr>namespace:</span> <span class=hljs-string>default</span>
<span class=hljs-attr>spec:</span>
  <span class=hljs-attr>rules:</span>
	<span class=hljs-bullet>-</span> <span class=hljs-attr>host:</span> <span class=hljs-string>"*"</span>
	  <span class=hljs-attr>path:</span> <span class=hljs-string>/backend/get-quote/</span>
	  <span class=hljs-attr>filters:</span>
		<span class=hljs-bullet>-</span> <span class=hljs-attr>name:</span> <span class=hljs-string>zitadel-filter</span></code></pre></div> <h4> <span class=offset-anchor id=Use_Ambassador_to_check_JWT_Bearer_Tokens></span> <a href=integrate#Use_Ambassador_to_check_JWT_Bearer_Tokens class=anchor aria-hidden=true> <i class="las la-link"></i> </a> Use Ambassador to check JWT Bearer Tokens </h4><p>If you would like <strong>Ambassador</strong> to verify a JWT token from the authorization header you can do so by configuring <strong>ZITADEL's</strong> endpoints.</p> <blockquote> <p>Make sure that in your client settings of <strong>ZITADEL</strong> the "AuthToken Options" is <strong>JWT</strong> by default <strong>ZITADEL</strong> will use opaque tokens!</p> </blockquote> <div class=""><pre class="language-undefined"><code><span class=hljs-attr>apiVersion:</span> <span class=hljs-string>getambassador.io/v2</span>
<span class=hljs-attr>kind:</span> <span class=hljs-string>Filter</span>
<span class=hljs-attr>metadata:</span>
  <span class=hljs-attr>name:</span> <span class=hljs-string>zitadel-filter</span>
  <span class=hljs-attr>namespace:</span> <span class=hljs-string>default</span>
<span class=hljs-attr>spec:</span>
  <span class=hljs-attr>JWT:</span>
	<span class=hljs-attr>jwksURI:</span>            <span class=hljs-string>"https://api.zitadel.ch/oauth/v2/keys"</span>
	<span class=hljs-attr>validAlgorithms:</span>
	<span class=hljs-bullet>-</span> <span class=hljs-string>"RS256"</span>
	<span class=hljs-attr>issuer:</span>             <span class=hljs-string>"https://issuer.zitadel.ch"</span>
	<span class=hljs-attr>requireIssuer:</span>      <span class=hljs-literal>true</span></code></pre></div><div class=""><pre class="language-undefined"><code><span class=hljs-attr>apiVersion:</span> <span class=hljs-string>getambassador.io/v2</span>
<span class=hljs-attr>kind:</span> <span class=hljs-string>FilterPolicy</span>
<span class=hljs-attr>metadata:</span>
  <span class=hljs-attr>name:</span> <span class=hljs-string>zitadel-policy</span>
  <span class=hljs-attr>namespace:</span> <span class=hljs-string>default</span>
<span class=hljs-attr>spec:</span>
  <span class=hljs-attr>rules:</span>
	<span class=hljs-bullet>-</span> <span class=hljs-attr>host:</span> <span class=hljs-string>"*"</span>
	  <span class=hljs-attr>path:</span> <span class=hljs-string>/backend/get-quote/</span>
	  <span class=hljs-attr>filters:</span>
		<span class=hljs-bullet>-</span> <span class=hljs-attr>name:</span> <span class=hljs-string>zitadel-filter</span></code></pre></div><blockquote> <p>Additional Infos can be found with <a href=https://www.getambassador.io/docs/latest/howtos/oauth-oidc-auth/ target=_blank>Ambassadors Documentation</a></p> </blockquote> <h3> <span class=offset-anchor id=OAuth2_Proxy_Example></span> <a href=integrate#OAuth2_Proxy_Example class=anchor aria-hidden=true> <i class="las la-link"></i> </a> OAuth2 Proxy Example </h3><p><a href=https://github.com/oauth2-proxy/oauth2-proxy target=_blank>OAuth2-proxy</a> is a project which allows services to delegate the authentication flow to a IDP, for example <strong>ZITADEL</strong></p> <h4> <span class=offset-anchor id=OAuth2_Proxy_Authentication_Example></span> <a href=integrate#OAuth2_Proxy_Authentication_Example class=anchor aria-hidden=true> <i class="las la-link"></i> </a> OAuth2 Proxy Authentication Example </h4><div class=""><pre class="language-undefined"><code>provider = "oidc"
user_id_claim = "sub" #uses the subject as ID instead of the email
provider_display_name "ZITADEL"
redirect_url = "http://127.0.0.1:4180/oauth2/callback"
oidc_issuer_url = "https://issuer.zitadel.ch"
upstreams = [
	"https://example.corp.com"
]
email_domains = [
	"*"
]
client_id = "{ZITADEL_GENERATED_CLIENT_ID}"
client_secret = "{ZITADEL_GENERATED_CLIENT_SECRET}"
pass_access_token = true
cookie_secret = "{SUPPLY_SOME_SECRET_HERE}"
skip_provider_button = true
cookie_secure = false #localdev only false
http_address = "127.0.0.1:4180" #localdev only</code></pre></div><blockquote> <p>This was tested with version <code>oauth2-proxy v6.1.1 (built with go1.14.2)</code></p> </blockquote> <h4> <span class=offset-anchor id=OAuth2_Proxy_Authorization_Example></span> <a href=integrate#OAuth2_Proxy_Authorization_Example class=anchor aria-hidden=true> <i class="las la-link"></i> </a> OAuth2 Proxy Authorization Example </h4><blockquote> <p>Not yet supported but with the work of <a href=https://github.com/oauth2-proxy/oauth2-proxy/pull/797 target=_blank>https://github.com/oauth2-proxy/oauth2-proxy/pull/797</a> it should be possible in the future</p> </blockquote> <h3> <span class=offset-anchor id=Cloudflare_Access_Example></span> <a href=integrate#Cloudflare_Access_Example class=anchor aria-hidden=true> <i class="las la-link"></i> </a> Cloudflare Access Example </h3><blockquote> <p>TODO</p> </blockquote> <h3> <span class=offset-anchor id=NGINX_Example></span> <a href=integrate#NGINX_Example class=anchor aria-hidden=true> <i class="las la-link"></i> </a> NGINX Example </h3><blockquote> <p>TODO</p> </blockquote> </section><section class=svelte-1x6e6fz data-id=API><h2 class=svelte-1x6e6fz><span class=offset-anchor id=API></span> <a href=integrate#API class=anchor aria-hidden></a> API <small class=svelte-1x6e6fz><a href=https://github.com/caos/zitadel/edit/master/site/docs/integrate/06-api.en.md class=svelte-1x6e6fz title="edit this section"><i class="las la-external-link-alt" style=font-size:24px;height:24px><use xlink:href="#las la-external-link-alt"></use></i></a> </small></h2> <h3> <span class=offset-anchor id=API_Protocol_and_Flow_recommendation></span> <a href=integrate#API_Protocol_and_Flow_recommendation class=anchor aria-hidden=true> <i class="las la-link"></i> </a> API Protocol and Flow recommendation </h3> <h3> <span class=offset-anchor id=Go_Example></span> <a href=integrate#Go_Example class=anchor aria-hidden=true> <i class="las la-link"></i> </a> Go Example </h3> <h3> <span class=offset-anchor id=net_core_Example></span> <a href=integrate#net_core_Example class=anchor aria-hidden=true> <i class="las la-link"></i> </a> .net core Example </h3> <h3> <span class=offset-anchor id=node_js_Example></span> <a href=integrate#node_js_Example class=anchor aria-hidden=true> <i class="las la-link"></i> </a> node.js Example </h3> </section><section class=svelte-1x6e6fz data-id=Products><h2 class=svelte-1x6e6fz><span class=offset-anchor id=Products></span> <a href=integrate#Products class=anchor aria-hidden></a> Products <small class=svelte-1x6e6fz><a href=https://github.com/caos/zitadel/edit/master/site/docs/integrate/07-products.en.md class=svelte-1x6e6fz title="edit this section"><i class="las la-external-link-alt" style=font-size:24px;height:24px><use xlink:href="#las la-external-link-alt"></use></i></a> </small></h2> <h3> <span class=offset-anchor id=Grafana_Example></span> <a href=integrate#Grafana_Example class=anchor aria-hidden=true> <i class="las la-link"></i> </a> Grafana Example </h3><p><strong>Grafana</strong> defines itself as "The open-source platform for monitoring and observability."</p> <p>The source code is provided on <a href=https://github.com/grafana/grafana target=_blank>Grafana's Github Repository</a></p> <h4> <span class=offset-anchor id=Authenticate_Grafana_with_ZITADEL></span> <a href=integrate#Authenticate_Grafana_with_ZITADEL class=anchor aria-hidden=true> <i class="las la-link"></i> </a> Authenticate Grafana with ZITADEL </h4><p>To authenticate <strong>Grafana</strong> with ZITADEL you can use the provided <strong>Generic OAuth</strong> plugin.</p> <blockquote> <p>We do not recommend that you rely on <code>allowed_domain</code> as means of authorizing subjects, but instead use <strong>ZITADEL's</strong> RBAC Assertion</p> </blockquote> <ol> <li>Create a new project or use an existing one</li> <li>Add OpenID Connect / OAuth 2.0 client to the project (See screenshot for settings)</li> <li>Add config to your <strong>Grafana</strong> instance and restart it</li> <li>Login to <strong>Grafana</strong></li> </ol> <div class=""><pre class="language-undefined"><code><span class=hljs-section>[auth.generic_oauth]</span>
<span class=hljs-attr>enabled</span> = <span class=hljs-literal>true</span>
<span class=hljs-attr>name</span>= ZITADEL
<span class=hljs-attr>client_id</span> = {ZITADEL_GENERATED_CLIENT_ID}
<span class=hljs-attr>client_secret</span> = {ZITADEL_GENERATED_CLIENT_SECRET}
<span class=hljs-attr>scopes</span> = openid profile email
<span class=hljs-attr>auth_url</span> = https://accounts.zitadel.ch/oauth/v2/authorize
<span class=hljs-attr>token_url</span> = https://api.zitadel.ch/oauth/v2/token
<span class=hljs-attr>api_url</span> = https://api.zitadel.ch/oauth/v2/userinfo
<span class=hljs-attr>allow_sign_up</span> = <span class=hljs-literal>true</span></code></pre></div><blockquote> <p>Grafanas's redirect is URI <a href=https://yourdomain.tld/login/generic_oauth title="undefined" target=_blank>https://yourdomain.tld/login/generic_oauth</a></p> </blockquote> <div class=zitadel-gallery itemscope itemtype=http://schema.org/ImageGallery> <figure itemprop=associatedMedia itemscope itemtype=http://schema.org/ImageObject> <a href=img/grafana_client_settings.png data-size=1920x1080 itemprop=contentUrl> <img alt="Client Settings for Grafana" src=img/grafana_client_settings.png itemprop=thumbnail> </a> <figcaption itemprop="caption description">Client Settings for Grafana</figcaption> </figure> </div> <h4> <span class=offset-anchor id=Authorizes_Users_with_Roles_in_Grafana></span> <a href=integrate#Authorizes_Users_with_Roles_in_Grafana class=anchor aria-hidden=true> <i class="las la-link"></i> </a> Authorizes Users with Roles in Grafana </h4><p><strong>ZITADEL</strong> provides projects with the option to provide Grafana with the users role.</p> <ol> <li>Create Roles (Admin, Editor, Viewer) in <strong>ZITADEL's</strong> project which contains <strong>Grafana</strong></li> <li>Enable "Assert Roles on Authentication" so that the roles are asserted to the userinfo endpoint</li> <li>(Optional) Enable "Check roles on Authentication", this will prevent that someone without any role to login <strong>Grafana</strong> via <strong>ZITADEL</strong></li> <li>Append the config below to your <strong>Grafana</strong> instance and reload</li> <li>Authorize the necessary users</li> </ol> <div class=""><pre class="language-undefined"><code>[auth.generic_oauth]
...
role_attribute_path =  keys("urn:zitadel:iam:org:project:roles") | contains(@, 'Admin') && 'Admin' || contains(@, 'Editor') && 'Editor' || 'Viewer'
...</code></pre></div><div class=zitadel-gallery itemscope itemtype=http://schema.org/ImageGallery> <figure itemprop=associatedMedia itemscope itemtype=http://schema.org/ImageObject> <a href=img/grafana_project_settings.png data-size=1920x1080 itemprop=contentUrl> <img alt="Project Settings for Grafana" src=img/grafana_project_settings.png itemprop=thumbnail> </a> <figcaption itemprop="caption description">Project Settings for Grafana</figcaption> </figure> <figure itemprop=associatedMedia itemscope itemtype=http://schema.org/ImageObject> <a href=img/grafana_zitadel_authorization.png data-size=1920x1080 itemprop=contentUrl> <img alt="Authorization for Grafana Role in ZITADEL" src=img/grafana_zitadel_authorization.png itemprop=thumbnail> </a> <figcaption itemprop="caption description">Authorization for Grafana Role in ZITADEL</figcaption> </figure> <figure itemprop=associatedMedia itemscope itemtype=http://schema.org/ImageObject> <a href=img/grafana_login_button.png data-size=1920x1080 itemprop=contentUrl> <img alt="Grafana Login" src=img/grafana_login_button.png itemprop=thumbnail> </a> <figcaption itemprop="caption description">Grafana Login</figcaption> </figure> <figure itemprop=associatedMedia itemscope itemtype=http://schema.org/ImageObject> <a href=img/grafana_profile_settings.png data-size=1920x1080 itemprop=contentUrl> <img alt="Grafana with Editor Role mapped from ZITADEL" src=img/grafana_profile_settings.png itemprop=thumbnail> </a> <figcaption itemprop="caption description">Grafana with Editor Role mapped from ZITADEL</figcaption> </figure> </div> <blockquote> <p>Grafana can not directly use ZITADEL delegation feature but normal RBAC works fine Additional infos can be found in the <a href=https://grafana.com/docs/grafana/latest/auth/generic-oauth/ target=_blank>Grafana generic OAuth 2.0 documentation</a></p> </blockquote> <h3> <span class=offset-anchor id=ArgoCD_Example></span> <a href=integrate#ArgoCD_Example class=anchor aria-hidden=true> <i class="las la-link"></i> </a> ArgoCD Example </h3><blockquote> <p>TODO</p> </blockquote> <h3> <span class=offset-anchor id=Kubernetes_Example></span> <a href=integrate#Kubernetes_Example class=anchor aria-hidden=true> <i class="las la-link"></i> </a> Kubernetes Example </h3><blockquote> <p>TODO</p> </blockquote> </section></div> <aside class="svelte-1x6e6fz sidebar-container"><div class="svelte-1x6e6fz sidebar"><a href=. class="svelte-1x6e6fz home" title="Zitadel Docs" rel=prefetch><img alt=zitadel-logo src=logos/zitadel-logo-light.svg class=svelte-1x6e6fz> <span class=svelte-1x6e6fz>DOCS</span></a> <button class="svelte-5en90e search-trigger"><i class="las la-search svelte-5en90e"></i> <span class=svelte-5en90e>Search for anything</span> <span class="svelte-5en90e fill-space"></span> <span class="svelte-5en90e strg">Ctrl F</span></button> <ul class="svelte-1olew8p reference-toc"><li class=svelte-1olew8p><a href=integrate#Overview class="svelte-1olew8p section">Overview </a> <li class=svelte-1olew8p><a href=integrate#Single_Page_Application class="svelte-1olew8p section">Single Page Application </a> <a href=integrate#SPA_Protocol_and_Flow_recommendation class="svelte-1olew8p subsection" data-level=3>SPA Protocol and Flow recommendation </a> <a href=integrate#Typescript_Example class="svelte-1olew8p subsection" data-level=3>Typescript Example </a> <a href=integrate#Typescript_Authentication_Example class="svelte-1olew8p subsection" data-level=4>Typescript Authentication Example </a> <li class=svelte-1olew8p><a href=integrate#Server_Side_Application class="svelte-1olew8p section">Server Side Application </a> <a href=integrate#SSA_Protocol_and_Flow_recommendation class="svelte-1olew8p subsection" data-level=3>SSA Protocol and Flow recommendation </a> <a href=integrate#ASP_net_core_example class="svelte-1olew8p subsection" data-level=3>ASP.net core example </a> <li class=svelte-1olew8p><a href=integrate#Mobile_Application class="svelte-1olew8p section">Mobile Application </a> <a href=integrate#Mobile_App_Protocol_and_Flow_recommendation class="svelte-1olew8p subsection" data-level=3>Mobile App Protocol and Flow recommendation </a> <a href=integrate#Swift_Example class="svelte-1olew8p subsection" data-level=3>Swift Example </a> <a href=integrate#Java_Example class="svelte-1olew8p subsection" data-level=3>Java Example </a> <li class=svelte-1olew8p><a href=integrate#Native_Application class="svelte-1olew8p section">Native Application </a> <a href=integrate#Native_App_Protocol_and_Flow_recommendation class="svelte-1olew8p subsection" data-level=3>Native App Protocol and Flow recommendation </a> <a href=integrate#Electron_Example class="svelte-1olew8p subsection" data-level=3>Electron Example </a> <a href=integrate#c_Example class="svelte-1olew8p subsection" data-level=3>c# Example </a> <li class=svelte-1olew8p><a href=integrate#Proxy_WAF class="svelte-1olew8p section">Proxy / WAF </a> <a href=integrate#Proxy_Protocol_and_Flow_recommendation class="svelte-1olew8p subsection" data-level=3>Proxy Protocol and Flow recommendation </a> <a href=integrate#Ambassador_Example class="svelte-1olew8p subsection" data-level=3>Ambassador Example </a> <a href=integrate#Use_Ambassador_to_Authenticate_with_ZITADEL class="svelte-1olew8p subsection" data-level=4>Use Ambassador to Authenticate with ZITADEL </a> <a href=integrate#Use_Ambassador_to_check_JWT_Bearer_Tokens class="svelte-1olew8p subsection" data-level=4>Use Ambassador to check JWT Bearer Tokens </a> <a href=integrate#OAuth2_Proxy_Example class="svelte-1olew8p subsection" data-level=3>OAuth2 Proxy Example </a> <a href=integrate#OAuth2_Proxy_Authentication_Example class="svelte-1olew8p subsection" data-level=4>OAuth2 Proxy Authentication Example </a> <a href=integrate#OAuth2_Proxy_Authorization_Example class="svelte-1olew8p subsection" data-level=4>OAuth2 Proxy Authorization Example </a> <a href=integrate#Cloudflare_Access_Example class="svelte-1olew8p subsection" data-level=3>Cloudflare Access Example </a> <a href=integrate#NGINX_Example class="svelte-1olew8p subsection" data-level=3>NGINX Example </a> <li class=svelte-1olew8p><a href=integrate#API class="svelte-1olew8p section">API </a> <a href=integrate#API_Protocol_and_Flow_recommendation class="svelte-1olew8p subsection" data-level=3>API Protocol and Flow recommendation </a> <a href=integrate#Go_Example class="svelte-1olew8p subsection" data-level=3>Go Example </a> <a href=integrate#net_core_Example class="svelte-1olew8p subsection" data-level=3>.net core Example </a> <a href=integrate#node_js_Example class="svelte-1olew8p subsection" data-level=3>node.js Example </a> <li class=svelte-1olew8p><a href=integrate#Products class="svelte-1olew8p section">Products </a> <a href=integrate#Grafana_Example class="svelte-1olew8p subsection" data-level=3>Grafana Example </a> <a href=integrate#Authenticate_Grafana_with_ZITADEL class="svelte-1olew8p subsection" data-level=4>Authenticate Grafana with ZITADEL </a> <a href=integrate#Authorizes_Users_with_Roles_in_Grafana class="svelte-1olew8p subsection" data-level=4>Authorizes Users with Roles in Grafana </a> <a href=integrate#ArgoCD_Example class="svelte-1olew8p subsection" data-level=3>ArgoCD Example </a> <a href=integrate#Kubernetes_Example class="svelte-1olew8p subsection" data-level=3>Kubernetes Example </a> </ul> <div class="svelte-1o03ag4 language-switcher"><button class=svelte-1o03ag4>Deutsch</button><button class="svelte-1o03ag4 current">English</button></div></div> <button class=svelte-1x6e6fz><i class="las la-bars" style=font-size:20px;height:20px><use xlink:href="#las la-bars"></use></i></button></aside> <div class=pswp aria-hidden=true role=dialog tabindex=-1> <div class=pswp__bg></div> <div class=pswp__scroll-wrap> <div class=pswp__container><div class=pswp__item></div> <div class=pswp__item></div> <div class=pswp__item></div></div> <div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar> <div class=pswp__counter></div> <button class="pswp__button pswp__button--close" title="Close (Esc)"></button> <button class="pswp__button pswp__button--share" title=Share></button> <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button> <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button> <div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div> <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div> <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button> <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button> <div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div></main></div> <script>__SAPPER__={baseUrl:"",preloaded:[void 0,(function(a,b,c,d,e,f){return {sections:[{html:"\u003Cblockquote\u003E\n\u003Cp\u003EAll documentations are under active work and subject to change soon!\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\u003Cp\u003EThis Integration guide gives you recommendations on how to integrate different Clients with \u003Cstrong\u003EZITADEL\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003ESingle Page Application\u003C\u002Fli\u003E\n\u003Cli\u003EServer Side Application\u003C\u002Fli\u003E\n\u003Cli\u003EMobile App\u003C\u002Fli\u003E\n\u003Cli\u003ENative App\u003C\u002Fli\u003E\n\u003Cli\u003EReverse Proxy\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EFor more details about how \u003Cstrong\u003EZITADEL\u003C\u002Fstrong\u003E treats \u003Ca href=\"documentation#Scopes\"\u003Escopes\u003C\u002Fa\u003E and \u003Ca href=\"documentation#Claims\"\u003Eclaims\u003C\u002Fa\u003E see the \u003Ca href=\"documentation\"\u003Edocumentations\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n",metadata:{title:d,description:b},subsections:[],slug:d,file:"00-overview.en.md"},{html:"\n\t\t\t\t\t\u003Ch3\u003E\n\t\t\t\t\t\t\u003Cspan id=\"SPA_Protocol_and_Flow_recommendation\" class=\"offset-anchor\" \u003E\u003C\u002Fspan\u003E\n\t\t\t\t\t\t\u003Ca href=\"integrate#SPA_Protocol_and_Flow_recommendation\" class=\"anchor\" aria-hidden=\"true\"\u003E \u003Ci class=\"las la-link\"\u003E\u003C\u002Fi\u003E \u003C\u002Fa\u003E\n\t\t\t\t\t\tSPA Protocol and Flow recommendation\n\t\t\t\t\t\u003C\u002Fh3\u003E\u003Cp\u003EIf your \u003Ca href=\"administrate#Clients\"\u003Eclient\u003C\u002Fa\u003E is a single page application (SPA) we recommend that you use \u003Ca href=\"documentation#Authorization_Code\"\u003EAuthorization Code\u003C\u002Fa\u003E in combination with \u003Ca href=\"documentation#Proof_Key_for_Code_Exchange\"\u003EProof Key for Code Exchange\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003Cp\u003EThis flow has great support with most modern languages and frameworks and is the recommended default.\u003C\u002Fp\u003E\n\u003Cblockquote\u003E\n\u003Cp\u003EIn the OIDC and OAuth world this \u003Cstrong\u003Eclient profile\u003C\u002Fstrong\u003E is called &quot;user-agent-based application&quot;\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\n\t\t\t\t\t\u003Ch3\u003E\n\t\t\t\t\t\t\u003Cspan id=\"Typescript_Example\" class=\"offset-anchor\" \u003E\u003C\u002Fspan\u003E\n\t\t\t\t\t\t\u003Ca href=\"integrate#Typescript_Example\" class=\"anchor\" aria-hidden=\"true\"\u003E \u003Ci class=\"las la-link\"\u003E\u003C\u002Fi\u003E \u003C\u002Fa\u003E\n\t\t\t\t\t\tTypescript Example\n\t\t\t\t\t\u003C\u002Fh3\u003E\n\t\t\t\t\t\u003Ch4\u003E\n\t\t\t\t\t\t\u003Cspan id=\"Typescript_Authentication_Example\" class=\"offset-anchor\" \u003E\u003C\u002Fspan\u003E\n\t\t\t\t\t\t\u003Ca href=\"integrate#Typescript_Authentication_Example\" class=\"anchor\" aria-hidden=\"true\"\u003E \u003Ci class=\"las la-link\"\u003E\u003C\u002Fi\u003E \u003C\u002Fa\u003E\n\t\t\t\t\t\tTypescript Authentication Example\n\t\t\t\t\t\u003C\u002Fh4\u003E\u003Cp\u003EIf you use a framework like Angular, Vue, React, ... you can use this code snippet here to integrate \u003Cstrong\u003EZITADEL\u003C\u002Fstrong\u003E into you application\u003C\u002Fp\u003E\n\u003Cp\u003ELibrary used for this example \u003Ca href=\"https:\u002F\u002Fgithub.com\u002FIdentityModel\u002Foidc-client-js\" target=\"_blank\"\u003Ehttps:\u002F\u002Fgithub.com\u002FIdentityModel\u002Foidc-client-js\u003C\u002Fa\u003E\u003C\u002Fp\u003E\n\u003Cdiv class=''\u003E\u003Cpre class='language-undefined'\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-keyword\"\u003Eimport\u003C\u002Fspan\u003E { UserManager, WebStorageStateStore, User } \u003Cspan class=\"hljs-keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E&#x27;oidc-client&#x27;\u003C\u002Fspan\u003E;\n\n\u003Cspan class=\"hljs-keyword\"\u003Eexport\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-keyword\"\u003Edefault\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-class\"\u003E\u003Cspan class=\"hljs-keyword\"\u003Eclass\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-title\"\u003EAuthService\u003C\u002Fspan\u003E \u003C\u002Fspan\u003E{\n\t\u003Cspan class=\"hljs-keyword\"\u003Eprivate\u003C\u002Fspan\u003E userManager: UserManager;\n\n\t\u003Cspan class=\"hljs-function\"\u003E\u003Cspan class=\"hljs-title\"\u003Econstructor\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-params\"\u003E\u003C\u002Fspan\u003E)\u003C\u002Fspan\u003E {\n\t\t\u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E ZITADEL_ISSUER_DOMAIN: \u003Cspan class=\"hljs-built_in\"\u003Estring\u003C\u002Fspan\u003E = \u003Cspan class=\"hljs-string\"\u003E&quot;https:\u002F\u002Fissuer.zitadel.ch&quot;\u003C\u002Fspan\u003E;\n\n\t\t\u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E settings: \u003Cspan class=\"hljs-built_in\"\u003Eany\u003C\u002Fspan\u003E = {\n\t\t\t\u003Cspan class=\"hljs-attr\"\u003EuserStore\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-keyword\"\u003Enew\u003C\u002Fspan\u003E WebStorageStateStore({ \u003Cspan class=\"hljs-attr\"\u003Estore\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-built_in\"\u003Ewindow\u003C\u002Fspan\u003E.localStorage }),\n\t\t\t\u003Cspan class=\"hljs-attr\"\u003Eauthority\u003C\u002Fspan\u003E: ZITADEL_ISSUER_DOMAIN,\n\t\t\t\u003Cspan class=\"hljs-attr\"\u003Eclient_id\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&#x27;YOUR_ZITADEL_CLIENT_ID&#x27;\u003C\u002Fspan\u003E,\n\t\t\t\u003Cspan class=\"hljs-attr\"\u003Eredirect_uri\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&#x27;http:\u002F\u002Flocalhost:44444\u002Fcallback.html&#x27;\u003C\u002Fspan\u003E,\n\t\t\t\u003Cspan class=\"hljs-attr\"\u003Eresponse_type\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&#x27;code&#x27;\u003C\u002Fspan\u003E,\n\t\t\t\u003Cspan class=\"hljs-attr\"\u003Escope\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&#x27;openid profile&#x27;\u003C\u002Fspan\u003E,\n\t\t\t\u003Cspan class=\"hljs-attr\"\u003Epost_logout_redirect_uri\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&#x27;http:\u002F\u002Flocalhost:44444\u002F&#x27;\u003C\u002Fspan\u003E,\n\t\t};\n\n\t\t\u003Cspan class=\"hljs-built_in\"\u003Ethis\u003C\u002Fspan\u003E.userManager = \u003Cspan class=\"hljs-keyword\"\u003Enew\u003C\u002Fspan\u003E UserManager(settings);\n\t}\n\n\t\u003Cspan class=\"hljs-keyword\"\u003Epublic\u003C\u002Fspan\u003E getUser(): \u003Cspan class=\"hljs-built_in\"\u003EPromise\u003C\u002Fspan\u003E&lt;User | \u003Cspan class=\"hljs-literal\"\u003Enull\u003C\u002Fspan\u003E&gt; {\n\t\t\u003Cspan class=\"hljs-keyword\"\u003Ereturn\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-built_in\"\u003Ethis\u003C\u002Fspan\u003E.userManager.getUser();\n\t}\n\n\t\u003Cspan class=\"hljs-keyword\"\u003Epublic\u003C\u002Fspan\u003E login(): \u003Cspan class=\"hljs-built_in\"\u003EPromise\u003C\u002Fspan\u003E&lt;\u003Cspan class=\"hljs-built_in\"\u003Evoid\u003C\u002Fspan\u003E&gt; {\n\t\t\u003Cspan class=\"hljs-keyword\"\u003Ereturn\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-built_in\"\u003Ethis\u003C\u002Fspan\u003E.userManager.signinRedirect();\n\t}\n\n\t\u003Cspan class=\"hljs-keyword\"\u003Epublic\u003C\u002Fspan\u003E logout(): \u003Cspan class=\"hljs-built_in\"\u003EPromise\u003C\u002Fspan\u003E&lt;\u003Cspan class=\"hljs-built_in\"\u003Evoid\u003C\u002Fspan\u003E&gt; {\n\t\t\u003Cspan class=\"hljs-keyword\"\u003Ereturn\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-built_in\"\u003Ethis\u003C\u002Fspan\u003E.userManager.signoutRedirect();\n\t}\n\n\t\u003Cspan class=\"hljs-keyword\"\u003Epublic\u003C\u002Fspan\u003E getAccessToken(): \u003Cspan class=\"hljs-built_in\"\u003EPromise\u003C\u002Fspan\u003E&lt;\u003Cspan class=\"hljs-built_in\"\u003Estring\u003C\u002Fspan\u003E&gt; {\n\t\t\u003Cspan class=\"hljs-keyword\"\u003Ereturn\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-built_in\"\u003Ethis\u003C\u002Fspan\u003E.userManager.getUser().then(\u003Cspan class=\"hljs-function\"\u003E(\u003Cspan class=\"hljs-params\"\u003Edata: \u003Cspan class=\"hljs-built_in\"\u003Eany\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E) =&gt;\u003C\u002Fspan\u003E {\n\t\t\t\u003Cspan class=\"hljs-keyword\"\u003Ereturn\u003C\u002Fspan\u003E data.access_token;\n\t\t});\n\t}\n}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E",metadata:{title:"Single Page Application",description:b},subsections:[{slug:"SPA_Protocol_and_Flow_recommendation",title:"SPA Protocol and Flow recommendation",level:a},{slug:"Typescript_Example",title:"Typescript Example",level:a},{slug:"Typescript_Authentication_Example",title:"Typescript Authentication Example",level:c}],slug:"Single_Page_Application",file:"01-singlepageapp.en.md"},{html:"\n\t\t\t\t\t\u003Ch3\u003E\n\t\t\t\t\t\t\u003Cspan id=\"SSA_Protocol_and_Flow_recommendation\" class=\"offset-anchor\" \u003E\u003C\u002Fspan\u003E\n\t\t\t\t\t\t\u003Ca href=\"integrate#SSA_Protocol_and_Flow_recommendation\" class=\"anchor\" aria-hidden=\"true\"\u003E \u003Ci class=\"las la-link\"\u003E\u003C\u002Fi\u003E \u003C\u002Fa\u003E\n\t\t\t\t\t\tSSA Protocol and Flow recommendation\n\t\t\t\t\t\u003C\u002Fh3\u003E\n\t\t\t\t\t\u003Ch3\u003E\n\t\t\t\t\t\t\u003Cspan id=\"ASP_net_core_example\" class=\"offset-anchor\" \u003E\u003C\u002Fspan\u003E\n\t\t\t\t\t\t\u003Ca href=\"integrate#ASP_net_core_example\" class=\"anchor\" aria-hidden=\"true\"\u003E \u003Ci class=\"las la-link\"\u003E\u003C\u002Fi\u003E \u003C\u002Fa\u003E\n\t\t\t\t\t\tASP.net core example\n\t\t\t\t\t\u003C\u002Fh3\u003E\u003Cblockquote\u003E\n\u003Cp\u003ELink here\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n",metadata:{title:"Server Side Application",description:b},subsections:[{slug:"SSA_Protocol_and_Flow_recommendation",title:"SSA Protocol and Flow recommendation",level:a},{slug:"ASP_net_core_example",title:"ASP.net core example",level:a}],slug:"Server_Side_Application",file:"02-serverapp.en.md"},{html:"\n\t\t\t\t\t\u003Ch3\u003E\n\t\t\t\t\t\t\u003Cspan id=\"Mobile_App_Protocol_and_Flow_recommendation\" class=\"offset-anchor\" \u003E\u003C\u002Fspan\u003E\n\t\t\t\t\t\t\u003Ca href=\"integrate#Mobile_App_Protocol_and_Flow_recommendation\" class=\"anchor\" aria-hidden=\"true\"\u003E \u003Ci class=\"las la-link\"\u003E\u003C\u002Fi\u003E \u003C\u002Fa\u003E\n\t\t\t\t\t\tMobile App Protocol and Flow recommendation\n\t\t\t\t\t\u003C\u002Fh3\u003E\n\t\t\t\t\t\u003Ch3\u003E\n\t\t\t\t\t\t\u003Cspan id=\"Swift_Example\" class=\"offset-anchor\" \u003E\u003C\u002Fspan\u003E\n\t\t\t\t\t\t\u003Ca href=\"integrate#Swift_Example\" class=\"anchor\" aria-hidden=\"true\"\u003E \u003Ci class=\"las la-link\"\u003E\u003C\u002Fi\u003E \u003C\u002Fa\u003E\n\t\t\t\t\t\tSwift Example\n\t\t\t\t\t\u003C\u002Fh3\u003E\u003Cblockquote\u003E\n\u003Cp\u003ELink here\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\n\t\t\t\t\t\u003Ch3\u003E\n\t\t\t\t\t\t\u003Cspan id=\"Java_Example\" class=\"offset-anchor\" \u003E\u003C\u002Fspan\u003E\n\t\t\t\t\t\t\u003Ca href=\"integrate#Java_Example\" class=\"anchor\" aria-hidden=\"true\"\u003E \u003Ci class=\"las la-link\"\u003E\u003C\u002Fi\u003E \u003C\u002Fa\u003E\n\t\t\t\t\t\tJava Example\n\t\t\t\t\t\u003C\u002Fh3\u003E\u003Cblockquote\u003E\n\u003Cp\u003ELink here\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n",metadata:{title:"Mobile Application",description:b},subsections:[{slug:"Mobile_App_Protocol_and_Flow_recommendation",title:"Mobile App Protocol and Flow recommendation",level:a},{slug:"Swift_Example",title:"Swift Example",level:a},{slug:"Java_Example",title:"Java Example",level:a}],slug:"Mobile_Application",file:"03-mobileapp.en.md"},{html:"\n\t\t\t\t\t\u003Ch3\u003E\n\t\t\t\t\t\t\u003Cspan id=\"Native_App_Protocol_and_Flow_recommendation\" class=\"offset-anchor\" \u003E\u003C\u002Fspan\u003E\n\t\t\t\t\t\t\u003Ca href=\"integrate#Native_App_Protocol_and_Flow_recommendation\" class=\"anchor\" aria-hidden=\"true\"\u003E \u003Ci class=\"las la-link\"\u003E\u003C\u002Fi\u003E \u003C\u002Fa\u003E\n\t\t\t\t\t\tNative App Protocol and Flow recommendation\n\t\t\t\t\t\u003C\u002Fh3\u003E\n\t\t\t\t\t\u003Ch3\u003E\n\t\t\t\t\t\t\u003Cspan id=\"Electron_Example\" class=\"offset-anchor\" \u003E\u003C\u002Fspan\u003E\n\t\t\t\t\t\t\u003Ca href=\"integrate#Electron_Example\" class=\"anchor\" aria-hidden=\"true\"\u003E \u003Ci class=\"las la-link\"\u003E\u003C\u002Fi\u003E \u003C\u002Fa\u003E\n\t\t\t\t\t\tElectron Example\n\t\t\t\t\t\u003C\u002Fh3\u003E\u003Cblockquote\u003E\n\u003Cp\u003ELink here\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\n\t\t\t\t\t\u003Ch3\u003E\n\t\t\t\t\t\t\u003Cspan id=\"c_Example\" class=\"offset-anchor\" \u003E\u003C\u002Fspan\u003E\n\t\t\t\t\t\t\u003Ca href=\"integrate#c_Example\" class=\"anchor\" aria-hidden=\"true\"\u003E \u003Ci class=\"las la-link\"\u003E\u003C\u002Fi\u003E \u003C\u002Fa\u003E\n\t\t\t\t\t\tc# Example\n\t\t\t\t\t\u003C\u002Fh3\u003E\u003Cblockquote\u003E\n\u003Cp\u003ELink here\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n",metadata:{title:"Native Application",description:b},subsections:[{slug:"Native_App_Protocol_and_Flow_recommendation",title:"Native App Protocol and Flow recommendation",level:a},{slug:"Electron_Example",title:"Electron Example",level:a},{slug:"c_Example",title:"c# Example",level:a}],slug:"Native_Application",file:"04-nativeapp.en.md"},{html:"\n\t\t\t\t\t\u003Ch3\u003E\n\t\t\t\t\t\t\u003Cspan id=\"Proxy_Protocol_and_Flow_recommendation\" class=\"offset-anchor\" \u003E\u003C\u002Fspan\u003E\n\t\t\t\t\t\t\u003Ca href=\"integrate#Proxy_Protocol_and_Flow_recommendation\" class=\"anchor\" aria-hidden=\"true\"\u003E \u003Ci class=\"las la-link\"\u003E\u003C\u002Fi\u003E \u003C\u002Fa\u003E\n\t\t\t\t\t\tProxy Protocol and Flow recommendation\n\t\t\t\t\t\u003C\u002Fh3\u003E\n\t\t\t\t\t\u003Ch3\u003E\n\t\t\t\t\t\t\u003Cspan id=\"Ambassador_Example\" class=\"offset-anchor\" \u003E\u003C\u002Fspan\u003E\n\t\t\t\t\t\t\u003Ca href=\"integrate#Ambassador_Example\" class=\"anchor\" aria-hidden=\"true\"\u003E \u003Ci class=\"las la-link\"\u003E\u003C\u002Fi\u003E \u003C\u002Fa\u003E\n\t\t\t\t\t\tAmbassador Example\n\t\t\t\t\t\u003C\u002Fh3\u003E\u003Cp\u003EAccording to \u003Ca href=\"https:\u002F\u002Fwww.getambassador.io\u002Fdocs\u002Flatest\u002F\" target=\"_blank\"\u003Ehttps:\u002F\u002Fwww.getambassador.io\u002Fdocs\u002Flatest\u002F\u003C\u002Fa\u003E Ambassador is a:\u003C\u002Fp\u003E\n\u003Cblockquote\u003E\n\u003Cp\u003EThe Ambassador Edge Stack is a comprehensive, self-service edge stack and API Gateway for Kubernetes built on Envoy Proxy. The shift to Kubernetes and microservices has profound consequences for the capabilities you need at the edge, as well as how you manage the edge. The Ambassador Edge Stack has been engineered with this world in mind.\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\u003Cp\u003EYou can use \u003Cstrong\u003EZITADEL\u003C\u002Fstrong\u003E for Authentication and Authorization with \u003Cstrong\u003EAmbassador\u003C\u002Fstrong\u003E.\u003C\u002Fp\u003E\n\u003Cblockquote\u003E\n\u003Cp\u003EThe redirect URI is \u003Ccode\u003Ehttps:\u002F\u002F{AMBASSADOR_URL}\u002F.ambassador\u002Foauth2\u002Fredirection-endpoint\u003C\u002Fcode\u003E\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\n\t\t\t\t\t\u003Ch4\u003E\n\t\t\t\t\t\t\u003Cspan id=\"Use_Ambassador_to_Authenticate_with_ZITADEL\" class=\"offset-anchor\" \u003E\u003C\u002Fspan\u003E\n\t\t\t\t\t\t\u003Ca href=\"integrate#Use_Ambassador_to_Authenticate_with_ZITADEL\" class=\"anchor\" aria-hidden=\"true\"\u003E \u003Ci class=\"las la-link\"\u003E\u003C\u002Fi\u003E \u003C\u002Fa\u003E\n\t\t\t\t\t\tUse Ambassador to Authenticate with ZITADEL\n\t\t\t\t\t\u003C\u002Fh4\u003E\u003Cp\u003EWith this you can use Ambassador to initiate the Authorization Code Flow.\u003C\u002Fp\u003E\n\u003Cdiv class=''\u003E\u003Cpre class='language-undefined'\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-attr\"\u003EapiVersion:\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003Egetambassador.io\u002Fv2\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-attr\"\u003Ekind:\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003EFilter\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-attr\"\u003Emetadata:\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-attr\"\u003Ename:\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003Ezitadel-filter\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-attr\"\u003Enamespace:\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003Edefault\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-attr\"\u003Espec:\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-attr\"\u003EOAuth2:\u003C\u002Fspan\u003E\n\t\u003Cspan class=\"hljs-attr\"\u003EauthorizationURL:\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003Ehttps:\u002F\u002Faccounts.zitadel.ch\u002Foauth\u002Fv2\u002Fauthorize\u003C\u002Fspan\u003E\n\t\u003Cspan class=\"hljs-attr\"\u003EclientID:\u003C\u002Fspan\u003E {\u003Cspan class=\"hljs-string\"\u003EZITADEL_GENERATED_CLIENT_ID\u003C\u002Fspan\u003E}\n\t\u003Cspan class=\"hljs-attr\"\u003Esecret:\u003C\u002Fspan\u003E {\u003Cspan class=\"hljs-string\"\u003EZITADEL_GENERATED_CLIENT_SECRET\u003C\u002Fspan\u003E}\n\t\u003Cspan class=\"hljs-attr\"\u003EprotectedOrigins:\u003C\u002Fspan\u003E\n\t\u003Cspan class=\"hljs-bullet\"\u003E-\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Eorigin:\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003Ehttps:\u002F\u002F{PROTECTED_URL}\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cdiv class=''\u003E\u003Cpre class='language-undefined'\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-attr\"\u003EapiVersion:\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003Egetambassador.io\u002Fv2\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-attr\"\u003Ekind:\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003EFilterPolicy\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-attr\"\u003Emetadata:\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-attr\"\u003Ename:\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003Ezitadel-policy\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-attr\"\u003Enamespace:\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003Edefault\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-attr\"\u003Espec:\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-attr\"\u003Erules:\u003C\u002Fspan\u003E\n\t\u003Cspan class=\"hljs-bullet\"\u003E-\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Ehost:\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E&quot;*&quot;\u003C\u002Fspan\u003E\n\t  \u003Cspan class=\"hljs-attr\"\u003Epath:\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E\u002Fbackend\u002Fget-quote\u002F\u003C\u002Fspan\u003E\n\t  \u003Cspan class=\"hljs-attr\"\u003Efilters:\u003C\u002Fspan\u003E\n\t\t\u003Cspan class=\"hljs-bullet\"\u003E-\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Ename:\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003Ezitadel-filter\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\n\t\t\t\t\t\u003Ch4\u003E\n\t\t\t\t\t\t\u003Cspan id=\"Use_Ambassador_to_check_JWT_Bearer_Tokens\" class=\"offset-anchor\" \u003E\u003C\u002Fspan\u003E\n\t\t\t\t\t\t\u003Ca href=\"integrate#Use_Ambassador_to_check_JWT_Bearer_Tokens\" class=\"anchor\" aria-hidden=\"true\"\u003E \u003Ci class=\"las la-link\"\u003E\u003C\u002Fi\u003E \u003C\u002Fa\u003E\n\t\t\t\t\t\tUse Ambassador to check JWT Bearer Tokens\n\t\t\t\t\t\u003C\u002Fh4\u003E\u003Cp\u003EIf you would like \u003Cstrong\u003EAmbassador\u003C\u002Fstrong\u003E to verify a JWT token from the authorization header you can do so by configuring \u003Cstrong\u003EZITADEL&#39;s\u003C\u002Fstrong\u003E endpoints.\u003C\u002Fp\u003E\n\u003Cblockquote\u003E\n\u003Cp\u003EMake sure that in your client settings of \u003Cstrong\u003EZITADEL\u003C\u002Fstrong\u003E the &quot;AuthToken Options&quot; is \u003Cstrong\u003EJWT\u003C\u002Fstrong\u003E by default \u003Cstrong\u003EZITADEL\u003C\u002Fstrong\u003E will use opaque tokens!\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\u003Cdiv class=''\u003E\u003Cpre class='language-undefined'\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-attr\"\u003EapiVersion:\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003Egetambassador.io\u002Fv2\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-attr\"\u003Ekind:\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003EFilter\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-attr\"\u003Emetadata:\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-attr\"\u003Ename:\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003Ezitadel-filter\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-attr\"\u003Enamespace:\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003Edefault\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-attr\"\u003Espec:\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-attr\"\u003EJWT:\u003C\u002Fspan\u003E\n\t\u003Cspan class=\"hljs-attr\"\u003EjwksURI:\u003C\u002Fspan\u003E            \u003Cspan class=\"hljs-string\"\u003E&quot;https:\u002F\u002Fapi.zitadel.ch\u002Foauth\u002Fv2\u002Fkeys&quot;\u003C\u002Fspan\u003E\n\t\u003Cspan class=\"hljs-attr\"\u003EvalidAlgorithms:\u003C\u002Fspan\u003E\n\t\u003Cspan class=\"hljs-bullet\"\u003E-\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E&quot;RS256&quot;\u003C\u002Fspan\u003E\n\t\u003Cspan class=\"hljs-attr\"\u003Eissuer:\u003C\u002Fspan\u003E             \u003Cspan class=\"hljs-string\"\u003E&quot;https:\u002F\u002Fissuer.zitadel.ch&quot;\u003C\u002Fspan\u003E\n\t\u003Cspan class=\"hljs-attr\"\u003ErequireIssuer:\u003C\u002Fspan\u003E      \u003Cspan class=\"hljs-literal\"\u003Etrue\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cdiv class=''\u003E\u003Cpre class='language-undefined'\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-attr\"\u003EapiVersion:\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003Egetambassador.io\u002Fv2\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-attr\"\u003Ekind:\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003EFilterPolicy\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-attr\"\u003Emetadata:\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-attr\"\u003Ename:\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003Ezitadel-policy\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-attr\"\u003Enamespace:\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003Edefault\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-attr\"\u003Espec:\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-attr\"\u003Erules:\u003C\u002Fspan\u003E\n\t\u003Cspan class=\"hljs-bullet\"\u003E-\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Ehost:\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E&quot;*&quot;\u003C\u002Fspan\u003E\n\t  \u003Cspan class=\"hljs-attr\"\u003Epath:\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E\u002Fbackend\u002Fget-quote\u002F\u003C\u002Fspan\u003E\n\t  \u003Cspan class=\"hljs-attr\"\u003Efilters:\u003C\u002Fspan\u003E\n\t\t\u003Cspan class=\"hljs-bullet\"\u003E-\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Ename:\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003Ezitadel-filter\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cblockquote\u003E\n\u003Cp\u003EAdditional Infos can be found with \u003Ca href=\"https:\u002F\u002Fwww.getambassador.io\u002Fdocs\u002Flatest\u002Fhowtos\u002Foauth-oidc-auth\u002F\" target=\"_blank\"\u003EAmbassadors Documentation\u003C\u002Fa\u003E\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\n\t\t\t\t\t\u003Ch3\u003E\n\t\t\t\t\t\t\u003Cspan id=\"OAuth2_Proxy_Example\" class=\"offset-anchor\" \u003E\u003C\u002Fspan\u003E\n\t\t\t\t\t\t\u003Ca href=\"integrate#OAuth2_Proxy_Example\" class=\"anchor\" aria-hidden=\"true\"\u003E \u003Ci class=\"las la-link\"\u003E\u003C\u002Fi\u003E \u003C\u002Fa\u003E\n\t\t\t\t\t\tOAuth2 Proxy Example\n\t\t\t\t\t\u003C\u002Fh3\u003E\u003Cp\u003E\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Foauth2-proxy\u002Foauth2-proxy\" target=\"_blank\"\u003EOAuth2-proxy\u003C\u002Fa\u003E is a project which allows services to delegate the authentication flow to a IDP, for example \u003Cstrong\u003EZITADEL\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\n\n\t\t\t\t\t\u003Ch4\u003E\n\t\t\t\t\t\t\u003Cspan id=\"OAuth2_Proxy_Authentication_Example\" class=\"offset-anchor\" \u003E\u003C\u002Fspan\u003E\n\t\t\t\t\t\t\u003Ca href=\"integrate#OAuth2_Proxy_Authentication_Example\" class=\"anchor\" aria-hidden=\"true\"\u003E \u003Ci class=\"las la-link\"\u003E\u003C\u002Fi\u003E \u003C\u002Fa\u003E\n\t\t\t\t\t\tOAuth2 Proxy Authentication Example\n\t\t\t\t\t\u003C\u002Fh4\u003E\u003Cdiv class=''\u003E\u003Cpre class='language-undefined'\u003E\u003Ccode\u003Eprovider = &quot;oidc&quot;\nuser_id_claim = &quot;sub&quot; #uses the subject as ID instead of the email\nprovider_display_name &quot;ZITADEL&quot;\nredirect_url = &quot;http:\u002F\u002F127.0.0.1:4180\u002Foauth2\u002Fcallback&quot;\noidc_issuer_url = &quot;https:\u002F\u002Fissuer.zitadel.ch&quot;\nupstreams = [\n\t&quot;https:\u002F\u002Fexample.corp.com&quot;\n]\nemail_domains = [\n\t&quot;*&quot;\n]\nclient_id = &quot;{ZITADEL_GENERATED_CLIENT_ID}&quot;\nclient_secret = &quot;{ZITADEL_GENERATED_CLIENT_SECRET}&quot;\npass_access_token = true\ncookie_secret = &quot;{SUPPLY_SOME_SECRET_HERE}&quot;\nskip_provider_button = true\ncookie_secure = false #localdev only false\nhttp_address = &quot;127.0.0.1:4180&quot; #localdev only\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cblockquote\u003E\n\u003Cp\u003EThis was tested with version \u003Ccode\u003Eoauth2-proxy v6.1.1 (built with go1.14.2)\u003C\u002Fcode\u003E\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\n\t\t\t\t\t\u003Ch4\u003E\n\t\t\t\t\t\t\u003Cspan id=\"OAuth2_Proxy_Authorization_Example\" class=\"offset-anchor\" \u003E\u003C\u002Fspan\u003E\n\t\t\t\t\t\t\u003Ca href=\"integrate#OAuth2_Proxy_Authorization_Example\" class=\"anchor\" aria-hidden=\"true\"\u003E \u003Ci class=\"las la-link\"\u003E\u003C\u002Fi\u003E \u003C\u002Fa\u003E\n\t\t\t\t\t\tOAuth2 Proxy Authorization Example\n\t\t\t\t\t\u003C\u002Fh4\u003E\u003Cblockquote\u003E\n\u003Cp\u003ENot yet supported but with the work of \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Foauth2-proxy\u002Foauth2-proxy\u002Fpull\u002F797\" target=\"_blank\"\u003Ehttps:\u002F\u002Fgithub.com\u002Foauth2-proxy\u002Foauth2-proxy\u002Fpull\u002F797\u003C\u002Fa\u003E it should be possible in the future\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\n\t\t\t\t\t\u003Ch3\u003E\n\t\t\t\t\t\t\u003Cspan id=\"Cloudflare_Access_Example\" class=\"offset-anchor\" \u003E\u003C\u002Fspan\u003E\n\t\t\t\t\t\t\u003Ca href=\"integrate#Cloudflare_Access_Example\" class=\"anchor\" aria-hidden=\"true\"\u003E \u003Ci class=\"las la-link\"\u003E\u003C\u002Fi\u003E \u003C\u002Fa\u003E\n\t\t\t\t\t\tCloudflare Access Example\n\t\t\t\t\t\u003C\u002Fh3\u003E\u003Cblockquote\u003E\n\u003Cp\u003ETODO\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\n\t\t\t\t\t\u003Ch3\u003E\n\t\t\t\t\t\t\u003Cspan id=\"NGINX_Example\" class=\"offset-anchor\" \u003E\u003C\u002Fspan\u003E\n\t\t\t\t\t\t\u003Ca href=\"integrate#NGINX_Example\" class=\"anchor\" aria-hidden=\"true\"\u003E \u003Ci class=\"las la-link\"\u003E\u003C\u002Fi\u003E \u003C\u002Fa\u003E\n\t\t\t\t\t\tNGINX Example\n\t\t\t\t\t\u003C\u002Fh3\u003E\u003Cblockquote\u003E\n\u003Cp\u003ETODO\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n",metadata:{title:"Proxy \u002F WAF",description:b},subsections:[{slug:"Proxy_Protocol_and_Flow_recommendation",title:"Proxy Protocol and Flow recommendation",level:a},{slug:"Ambassador_Example",title:"Ambassador Example",level:a},{slug:"Use_Ambassador_to_Authenticate_with_ZITADEL",title:"Use Ambassador to Authenticate with ZITADEL",level:c},{slug:"Use_Ambassador_to_check_JWT_Bearer_Tokens",title:"Use Ambassador to check JWT Bearer Tokens",level:c},{slug:"OAuth2_Proxy_Example",title:"OAuth2 Proxy Example",level:a},{slug:"OAuth2_Proxy_Authentication_Example",title:"OAuth2 Proxy Authentication Example",level:c},{slug:"OAuth2_Proxy_Authorization_Example",title:"OAuth2 Proxy Authorization Example",level:c},{slug:"Cloudflare_Access_Example",title:"Cloudflare Access Example",level:a},{slug:"NGINX_Example",title:"NGINX Example",level:a}],slug:"Proxy_WAF",file:"05-proxy.en.md"},{html:"\n\t\t\t\t\t\u003Ch3\u003E\n\t\t\t\t\t\t\u003Cspan id=\"API_Protocol_and_Flow_recommendation\" class=\"offset-anchor\" \u003E\u003C\u002Fspan\u003E\n\t\t\t\t\t\t\u003Ca href=\"integrate#API_Protocol_and_Flow_recommendation\" class=\"anchor\" aria-hidden=\"true\"\u003E \u003Ci class=\"las la-link\"\u003E\u003C\u002Fi\u003E \u003C\u002Fa\u003E\n\t\t\t\t\t\tAPI Protocol and Flow recommendation\n\t\t\t\t\t\u003C\u002Fh3\u003E\n\t\t\t\t\t\u003Ch3\u003E\n\t\t\t\t\t\t\u003Cspan id=\"Go_Example\" class=\"offset-anchor\" \u003E\u003C\u002Fspan\u003E\n\t\t\t\t\t\t\u003Ca href=\"integrate#Go_Example\" class=\"anchor\" aria-hidden=\"true\"\u003E \u003Ci class=\"las la-link\"\u003E\u003C\u002Fi\u003E \u003C\u002Fa\u003E\n\t\t\t\t\t\tGo Example\n\t\t\t\t\t\u003C\u002Fh3\u003E\n\t\t\t\t\t\u003Ch3\u003E\n\t\t\t\t\t\t\u003Cspan id=\"net_core_Example\" class=\"offset-anchor\" \u003E\u003C\u002Fspan\u003E\n\t\t\t\t\t\t\u003Ca href=\"integrate#net_core_Example\" class=\"anchor\" aria-hidden=\"true\"\u003E \u003Ci class=\"las la-link\"\u003E\u003C\u002Fi\u003E \u003C\u002Fa\u003E\n\t\t\t\t\t\t.net core Example\n\t\t\t\t\t\u003C\u002Fh3\u003E\n\t\t\t\t\t\u003Ch3\u003E\n\t\t\t\t\t\t\u003Cspan id=\"node_js_Example\" class=\"offset-anchor\" \u003E\u003C\u002Fspan\u003E\n\t\t\t\t\t\t\u003Ca href=\"integrate#node_js_Example\" class=\"anchor\" aria-hidden=\"true\"\u003E \u003Ci class=\"las la-link\"\u003E\u003C\u002Fi\u003E \u003C\u002Fa\u003E\n\t\t\t\t\t\tnode.js Example\n\t\t\t\t\t\u003C\u002Fh3\u003E",metadata:{title:e,description:b},subsections:[{slug:"API_Protocol_and_Flow_recommendation",title:"API Protocol and Flow recommendation",level:a},{slug:"Go_Example",title:"Go Example",level:a},{slug:"net_core_Example",title:".net core Example",level:a},{slug:"node_js_Example",title:"node.js Example",level:a}],slug:e,file:"06-api.en.md"},{html:"\n\t\t\t\t\t\u003Ch3\u003E\n\t\t\t\t\t\t\u003Cspan id=\"Grafana_Example\" class=\"offset-anchor\" \u003E\u003C\u002Fspan\u003E\n\t\t\t\t\t\t\u003Ca href=\"integrate#Grafana_Example\" class=\"anchor\" aria-hidden=\"true\"\u003E \u003Ci class=\"las la-link\"\u003E\u003C\u002Fi\u003E \u003C\u002Fa\u003E\n\t\t\t\t\t\tGrafana Example\n\t\t\t\t\t\u003C\u002Fh3\u003E\u003Cp\u003E\u003Cstrong\u003EGrafana\u003C\u002Fstrong\u003E defines itself as &quot;The open-source platform for monitoring and observability.&quot;\u003C\u002Fp\u003E\n\u003Cp\u003EThe source code is provided on \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fgrafana\u002Fgrafana\" target=\"_blank\"\u003EGrafana&#39;s Github Repository\u003C\u002Fa\u003E\u003C\u002Fp\u003E\n\n\t\t\t\t\t\u003Ch4\u003E\n\t\t\t\t\t\t\u003Cspan id=\"Authenticate_Grafana_with_ZITADEL\" class=\"offset-anchor\" \u003E\u003C\u002Fspan\u003E\n\t\t\t\t\t\t\u003Ca href=\"integrate#Authenticate_Grafana_with_ZITADEL\" class=\"anchor\" aria-hidden=\"true\"\u003E \u003Ci class=\"las la-link\"\u003E\u003C\u002Fi\u003E \u003C\u002Fa\u003E\n\t\t\t\t\t\tAuthenticate Grafana with ZITADEL\n\t\t\t\t\t\u003C\u002Fh4\u003E\u003Cp\u003ETo authenticate \u003Cstrong\u003EGrafana\u003C\u002Fstrong\u003E with ZITADEL you can use the provided \u003Cstrong\u003EGeneric OAuth\u003C\u002Fstrong\u003E plugin.\u003C\u002Fp\u003E\n\u003Cblockquote\u003E\n\u003Cp\u003EWe do not recommend that you rely on \u003Ccode\u003Eallowed_domain\u003C\u002Fcode\u003E as means of authorizing subjects, but instead use \u003Cstrong\u003EZITADEL&#39;s\u003C\u002Fstrong\u003E RBAC Assertion\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\u003Col\u003E\n\u003Cli\u003ECreate a new project or use an existing one\u003C\u002Fli\u003E\n\u003Cli\u003EAdd OpenID Connect \u002F OAuth 2.0 client to the project (See screenshot for settings)\u003C\u002Fli\u003E\n\u003Cli\u003EAdd config to your \u003Cstrong\u003EGrafana\u003C\u002Fstrong\u003E instance and restart it\u003C\u002Fli\u003E\n\u003Cli\u003ELogin to \u003Cstrong\u003EGrafana\u003C\u002Fstrong\u003E\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Cdiv class=''\u003E\u003Cpre class='language-undefined'\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-section\"\u003E[auth.generic_oauth]\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-attr\"\u003Eenabled\u003C\u002Fspan\u003E = \u003Cspan class=\"hljs-literal\"\u003Etrue\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-attr\"\u003Ename\u003C\u002Fspan\u003E= ZITADEL\n\u003Cspan class=\"hljs-attr\"\u003Eclient_id\u003C\u002Fspan\u003E = {ZITADEL_GENERATED_CLIENT_ID}\n\u003Cspan class=\"hljs-attr\"\u003Eclient_secret\u003C\u002Fspan\u003E = {ZITADEL_GENERATED_CLIENT_SECRET}\n\u003Cspan class=\"hljs-attr\"\u003Escopes\u003C\u002Fspan\u003E = openid profile email\n\u003Cspan class=\"hljs-attr\"\u003Eauth_url\u003C\u002Fspan\u003E = https:\u002F\u002Faccounts.zitadel.ch\u002Foauth\u002Fv2\u002Fauthorize\n\u003Cspan class=\"hljs-attr\"\u003Etoken_url\u003C\u002Fspan\u003E = https:\u002F\u002Fapi.zitadel.ch\u002Foauth\u002Fv2\u002Ftoken\n\u003Cspan class=\"hljs-attr\"\u003Eapi_url\u003C\u002Fspan\u003E = https:\u002F\u002Fapi.zitadel.ch\u002Foauth\u002Fv2\u002Fuserinfo\n\u003Cspan class=\"hljs-attr\"\u003Eallow_sign_up\u003C\u002Fspan\u003E = \u003Cspan class=\"hljs-literal\"\u003Etrue\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cblockquote\u003E\n\u003Cp\u003EGrafanas&#39;s redirect is URI \u003Ca href=\"https:\u002F\u002Fyourdomain.tld\u002Flogin\u002Fgeneric_oauth\" target=\"_blank\" title=\"undefined\"\u003Ehttps:\u002F\u002Fyourdomain.tld\u002Flogin\u002Fgeneric_oauth\u003C\u002Fa\u003E\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\u003Cdiv class=\"zitadel-gallery\" itemscope itemtype=\"http:\u002F\u002Fschema.org\u002FImageGallery\"\u003E\n    \u003Cfigure itemprop=\"associatedMedia\" itemscope itemtype=\"http:\u002F\u002Fschema.org\u002FImageObject\"\u003E\n        \u003Ca href=\"img\u002Fgrafana_client_settings.png\" itemprop=\"contentUrl\" data-size=\"1920x1080\"\u003E\n            \u003Cimg src=\"img\u002Fgrafana_client_settings.png\" itemprop=\"thumbnail\" alt=\"Client Settings for Grafana\" \u002F\u003E\n        \u003C\u002Fa\u003E\n        \u003Cfigcaption itemprop=\"caption description\"\u003EClient Settings for Grafana\u003C\u002Ffigcaption\u003E\n    \u003C\u002Ffigure\u003E\n\u003C\u002Fdiv\u003E\n\n\n\t\t\t\t\t\u003Ch4\u003E\n\t\t\t\t\t\t\u003Cspan id=\"Authorizes_Users_with_Roles_in_Grafana\" class=\"offset-anchor\" \u003E\u003C\u002Fspan\u003E\n\t\t\t\t\t\t\u003Ca href=\"integrate#Authorizes_Users_with_Roles_in_Grafana\" class=\"anchor\" aria-hidden=\"true\"\u003E \u003Ci class=\"las la-link\"\u003E\u003C\u002Fi\u003E \u003C\u002Fa\u003E\n\t\t\t\t\t\tAuthorizes Users with Roles in Grafana\n\t\t\t\t\t\u003C\u002Fh4\u003E\u003Cp\u003E\u003Cstrong\u003EZITADEL\u003C\u002Fstrong\u003E provides projects with the option to provide Grafana with the users role.\u003C\u002Fp\u003E\n\u003Col\u003E\n\u003Cli\u003ECreate Roles (Admin, Editor, Viewer) in \u003Cstrong\u003EZITADEL&#39;s\u003C\u002Fstrong\u003E project which contains \u003Cstrong\u003EGrafana\u003C\u002Fstrong\u003E\u003C\u002Fli\u003E\n\u003Cli\u003EEnable &quot;Assert Roles on Authentication&quot; so that the roles are asserted to the userinfo endpoint\u003C\u002Fli\u003E\n\u003Cli\u003E(Optional) Enable &quot;Check roles on Authentication&quot;, this will prevent that someone without any role to login \u003Cstrong\u003EGrafana\u003C\u002Fstrong\u003E via \u003Cstrong\u003EZITADEL\u003C\u002Fstrong\u003E\u003C\u002Fli\u003E\n\u003Cli\u003EAppend the config below to your \u003Cstrong\u003EGrafana\u003C\u002Fstrong\u003E instance and reload\u003C\u002Fli\u003E\n\u003Cli\u003EAuthorize the necessary users\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Cdiv class=''\u003E\u003Cpre class='language-undefined'\u003E\u003Ccode\u003E[auth.generic_oauth]\n...\nrole_attribute_path =  keys(&quot;urn:zitadel:iam:org:project:roles&quot;) | contains(@, &#x27;Admin&#x27;) &amp;&amp; &#x27;Admin&#x27; || contains(@, &#x27;Editor&#x27;) &amp;&amp; &#x27;Editor&#x27; || &#x27;Viewer&#x27;\n...\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cdiv class=\"zitadel-gallery\" itemscope itemtype=\"http:\u002F\u002Fschema.org\u002FImageGallery\"\u003E\n    \u003Cfigure itemprop=\"associatedMedia\" itemscope itemtype=\"http:\u002F\u002Fschema.org\u002FImageObject\"\u003E\n        \u003Ca href=\"img\u002Fgrafana_project_settings.png\" itemprop=\"contentUrl\" data-size=\"1920x1080\"\u003E\n            \u003Cimg src=\"img\u002Fgrafana_project_settings.png\" itemprop=\"thumbnail\" alt=\"Project Settings for Grafana\" \u002F\u003E\n        \u003C\u002Fa\u003E\n        \u003Cfigcaption itemprop=\"caption description\"\u003EProject Settings for Grafana\u003C\u002Ffigcaption\u003E\n    \u003C\u002Ffigure\u003E\n    \u003Cfigure itemprop=\"associatedMedia\" itemscope itemtype=\"http:\u002F\u002Fschema.org\u002FImageObject\"\u003E\n        \u003Ca href=\"img\u002Fgrafana_zitadel_authorization.png\" itemprop=\"contentUrl\" data-size=\"1920x1080\"\u003E\n            \u003Cimg src=\"img\u002Fgrafana_zitadel_authorization.png\" itemprop=\"thumbnail\" alt=\"Authorization for Grafana Role in ZITADEL\" \u002F\u003E\n        \u003C\u002Fa\u003E\n        \u003Cfigcaption itemprop=\"caption description\"\u003EAuthorization for Grafana Role in ZITADEL\u003C\u002Ffigcaption\u003E\n    \u003C\u002Ffigure\u003E\n    \u003Cfigure itemprop=\"associatedMedia\" itemscope itemtype=\"http:\u002F\u002Fschema.org\u002FImageObject\"\u003E\n        \u003Ca href=\"img\u002Fgrafana_login_button.png\" itemprop=\"contentUrl\" data-size=\"1920x1080\"\u003E\n            \u003Cimg src=\"img\u002Fgrafana_login_button.png\" itemprop=\"thumbnail\" alt=\"Grafana Login\" \u002F\u003E\n        \u003C\u002Fa\u003E\n        \u003Cfigcaption itemprop=\"caption description\"\u003EGrafana Login\u003C\u002Ffigcaption\u003E\n    \u003C\u002Ffigure\u003E\n    \u003Cfigure itemprop=\"associatedMedia\" itemscope itemtype=\"http:\u002F\u002Fschema.org\u002FImageObject\"\u003E\n        \u003Ca href=\"img\u002Fgrafana_profile_settings.png\" itemprop=\"contentUrl\" data-size=\"1920x1080\"\u003E\n            \u003Cimg src=\"img\u002Fgrafana_profile_settings.png\" itemprop=\"thumbnail\" alt=\"Grafana with Editor Role mapped from ZITADEL\" \u002F\u003E\n        \u003C\u002Fa\u003E\n        \u003Cfigcaption itemprop=\"caption description\"\u003EGrafana with Editor Role mapped from ZITADEL\u003C\u002Ffigcaption\u003E\n    \u003C\u002Ffigure\u003E\n\u003C\u002Fdiv\u003E\n\n\u003Cblockquote\u003E\n\u003Cp\u003EGrafana can not directly use ZITADEL delegation feature but normal RBAC works fine\nAdditional infos can be found in the \u003Ca href=\"https:\u002F\u002Fgrafana.com\u002Fdocs\u002Fgrafana\u002Flatest\u002Fauth\u002Fgeneric-oauth\u002F\" target=\"_blank\"\u003EGrafana generic OAuth 2.0 documentation\u003C\u002Fa\u003E\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\n\t\t\t\t\t\u003Ch3\u003E\n\t\t\t\t\t\t\u003Cspan id=\"ArgoCD_Example\" class=\"offset-anchor\" \u003E\u003C\u002Fspan\u003E\n\t\t\t\t\t\t\u003Ca href=\"integrate#ArgoCD_Example\" class=\"anchor\" aria-hidden=\"true\"\u003E \u003Ci class=\"las la-link\"\u003E\u003C\u002Fi\u003E \u003C\u002Fa\u003E\n\t\t\t\t\t\tArgoCD Example\n\t\t\t\t\t\u003C\u002Fh3\u003E\u003Cblockquote\u003E\n\u003Cp\u003ETODO\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\n\t\t\t\t\t\u003Ch3\u003E\n\t\t\t\t\t\t\u003Cspan id=\"Kubernetes_Example\" class=\"offset-anchor\" \u003E\u003C\u002Fspan\u003E\n\t\t\t\t\t\t\u003Ca href=\"integrate#Kubernetes_Example\" class=\"anchor\" aria-hidden=\"true\"\u003E \u003Ci class=\"las la-link\"\u003E\u003C\u002Fi\u003E \u003C\u002Fa\u003E\n\t\t\t\t\t\tKubernetes Example\n\t\t\t\t\t\u003C\u002Fh3\u003E\u003Cblockquote\u003E\n\u003Cp\u003ETODO\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n",metadata:{title:f,description:b},subsections:[{slug:"Grafana_Example",title:"Grafana Example",level:a},{slug:"Authenticate_Grafana_with_ZITADEL",title:"Authenticate Grafana with ZITADEL",level:c},{slug:"Authorizes_Users_with_Roles_in_Grafana",title:"Authorizes Users with Roles in Grafana",level:c},{slug:"ArgoCD_Example",title:"ArgoCD Example",level:a},{slug:"Kubernetes_Example",title:"Kubernetes Example",level:a}],slug:f,file:"07-products.en.md"}],seo:"",slug:"integrate"}}(3,"...",4,"Overview","API","Products"))]};if('serviceWorker' in navigator)navigator.serviceWorker.register('/service-worker.js');(function(){try{eval("async function x(){}");var main="/client/client.f93f5ec2.js"}catch(e){main="/client/legacy/client.a84bbeb2.js"};var s=document.createElement("script");try{new Function("if(0)import('')")();s.src=main;s.type="module";s.crossOrigin="use-credentials";}catch(e){s.src="/client/shimport@2.0.4.js";s.setAttribute("data-main",main);}document.head.appendChild(s);}());</script> 