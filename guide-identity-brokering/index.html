<!doctype html> <html class="theme-default typo-default" lang=en> <head> <meta charset=utf-8> <meta content="width=device-width,initial-scale=1" name=viewport> <meta content=#159794 name=theme-color> <base href=/ > <link href=prism.css rel=stylesheet> <link href=manifest.json rel=manifest> <link href=icons/favicon.ico rel=icon type=image/x-icon> <link href=https://maxst.icons8.com/vue-static/landings/line-awesome/line-awesome/1.3.0/css/line-awesome.min.css rel=stylesheet> <link href=default-skin/default-skin.css rel=stylesheet> <link href=photoswipe.css rel=stylesheet> <script src=photoswipe.min.js></script> <script src=photoswipe-ui-default.min.js></script> <link href="https://fonts.googleapis.com/css2?family=Lato&display=swap" rel=stylesheet> <link href=client/client-48e31998.css rel=stylesheet><link href=client/[slug]-f0764356.css rel=stylesheet> <style>.hljs,.hljs-subst{color:#e8eaed}.hljs-comment{color:#999}.hljs-tag{color:#f8b886}.hljs-keyword{color:#ff2069}.hljs-attr{color:#a3acb9}.hljs-number{color:#f8b886}.hljs-deletion,.hljs-quote,.hljs-selector-class,.hljs-selector-id,.hljs-string,.hljs-template-tag,.hljs-type{color:#1ea672}.hljs-section,.hljs-title{color:#1ea672}.hljs-literal{color:#f8b886}.hljs-meta{color:#e8eaed}.hljs-meta-string{color:#e8eaed}</style> <title>ZITADEL Documentation â€¢ guide-identity-brokering</title> <link href=/client/client.cf423e37.js rel=modulepreload as=script crossorigin=use-credentials><link href=/client/client-48e31998.css rel=preload as=style><link href=/client/[slug].a855549f.js rel=modulepreload as=script crossorigin=use-credentials><link href=/client/inject_styles.5607aec6.js rel=modulepreload as=script crossorigin=use-credentials><link href=/client/[slug]-f0764356.css rel=preload as=style></head> <body> <div id=sapper> <header class="svelte-1h17ogk visible"><nav class=svelte-1h17ogk><a href=. class="svelte-1h17ogk home" title="Zitadel docs" sapper:prefetch><img alt="Zitadel docs" src=logos/zitadel-logo-light.svg class=svelte-1h17ogk> <span class="svelte-1h17ogk docs">DOCS</span></a> <span class="svelte-1h17ogk fill-space"></span> <ul class="svelte-1h17ogk primary"><li><a href=start sapper:prefetch><i class="las la-bars bars"></i>Get started</a></li> <li><a href=quickstarts sapper:prefetch><i class="las la-bars bars"></i>Quickstarts</a></li> <li><a href=guides sapper:prefetch><i class="las la-bars bars"></i>Guides</a></li> <li><a href=apis sapper:prefetch><i class="las la-bars bars"></i>APIs</a></li> <li><a href=architecture sapper:prefetch><i class="las la-bars bars"></i>Architecture</a></li> <li><a href=use sapper:prefetch><i class="las la-bars bars"></i>Manual</a></ul> <span class="svelte-1h17ogk fill-space show-if-desktop"></span> <a href=https://console.zitadel.ch class="svelte-1h17ogk show-if-desktop"><button class=svelte-1h17ogk><span class=svelte-1h17ogk>LOGIN</span></button></a></nav></header> <main class=svelte-ke1jp4> <div class="svelte-him5z6 content listify"><section class=svelte-him5z6 data-id=Identity_Brokering><h2 class=svelte-him5z6><span class=offset-anchor id=Identity_Brokering></span> <a href=guide-identity-brokering#Identity_Brokering class=anchor aria-hidden></a> Identity Brokering <small class=svelte-him5z6><a href=https://github.com/caos/zitadel/edit/master/site/docs/guide-identity-brokering/00-guide-identity-brokering.md class=svelte-him5z6 title="edit this section"><i class="las la-external-link-alt" style=font-size:24px;height:24px><use xlink:href="#las la-external-link-alt"></use></i></a> </small></h2> <table class=table-wrapper> <tr> <td>Description</td> <td>Learn about identity brokering/federation and how to add an external identity provider to authenticate your users.</td> </tr> <tr> <td>Learning Outcomes</td> <td> In this module you will: <ul> <li>Learn about Identity Providers</li> <li>Add a new identity provider</li> <li>Example with Google Login</li> </ul> </td> </tr> <tr> <td>Prerequisites</td> <td> <ul> <li>Knowledge of <a href=/zitadel-organizations>ZITADEL Organizations</a></li> </ul> </td> </tr> </table> <h3> <span class=offset-anchor id=What_is_Identity_Brokering_and_Federated_Identities></span> <a href=guide-identity-brokering#What_is_Identity_Brokering_and_Federated_Identities class=anchor aria-hidden=true><i class="las la-link"></i></a> What is Identity Brokering and Federated Identities? </h3><p>Federated identity management is an arrangement built upon the trust between two or more domains. Users of these domains are allowed to access applications and services using the same identity. This identity is known as federated identity and the pattern behind this as identity federation.</p> <p>A service provider that specializes in brokering access control between multiple service providers (also referred to as relying parties) is called identity broker. Federated identity management is an arrangement that is made between two or more such identity brokers across organizations.</p> <p>Example: If Google is configured as identity provider on your organization, the user will get the option to use his Google Account on the Login Screen of ZITADEL (1). ZITADEL will redirect the user to the login screen of Google where he as to authenticated himself (2) and is sent back after he has finished that (3). Because Google is registered as trusted identity provider the user will be able to login in with the Google account after he linked an existing ZITADEL Account or just registered a new one with the claims provided by Google (4)(5).</p> <figure itemprop=associatedMedia itemscope itemtype=http://schema.org/ImageObject> <a href=img/zitadel_identity_brokering.png data-size=1920x1080 itemprop=contentUrl> <img alt="Zitadel Identity Brokering" src=img/zitadel_identity_brokering.png itemprop=thumbnail> </a> <figcaption itemprop="caption description">Identity Brokering</figcaption> </figure> <h3> <span class=offset-anchor id=Exercise_Register_an_external_identity_provider></span> <a href=guide-identity-brokering#Exercise_Register_an_external_identity_provider class=anchor aria-hidden=true><i class="las la-link"></i></a> Exercise: Register an external identity provider </h3><p>In this exercise we will add a new Google identity provider to federate identities with ZITADEL. </p> <h4> <span class=offset-anchor id=1_Create_new_OIDC_Client></span> <a href=guide-identity-brokering#1_Create_new_OIDC_Client class=anchor aria-hidden=true><i class="las la-link"></i></a> 1. Create new OIDC Client </h4><ol> <li>Register an OIDC Client in your preferred provider</li> <li>Make sure you add the ZITADEL callback redirect uris <a href=https://accounts.zitadel.ch/register/externalidp/callback title="undefined" target=_blank>https://accounts.zitadel.ch/register/externalidp/callback</a> <a href=https://accounts.zitadel.ch/login/externalidp/callback title="undefined" target=_blank>https://accounts.zitadel.ch/login/externalidp/callback</a></li> </ol> <blockquote> <p><strong>Information:</strong> Make sure the provider is OIDC 1.0 compliant with a proper Discovery Endpoint</p> </blockquote> <p>Google Example:</p> <ol> <li>Go to the Google Gloud Platform and choose youre project: <a href=https://console.cloud.google.com/apis/credentials title="undefined" target=_blank>https://console.cloud.google.com/apis/credentials</a></li> <li>Click on "+ CREATE CREDENTIALS" and choose "OAuth client ID"</li> <li>Choose Web application as Application type and give a name</li> <li>Add the redirect uris from above</li> <li>Save clientid and client secret</li> </ol> <figure itemprop=associatedMedia itemscope itemtype=http://schema.org/ImageObject> <a href=img/google_add_credentials.gif data-size=1920x1080 itemprop=contentUrl> <img alt=google_add_oauth_credentials src=img/google_add_credentials.gif itemprop=thumbnail> </a> <figcaption itemprop="caption description">Add new oAuth credentials in Google Console</figcaption> </figure> <h4> <span class=offset-anchor id=2_Add_custom_login_policy_on_your_organisation></span> <a href=guide-identity-brokering#2_Add_custom_login_policy_on_your_organisation class=anchor aria-hidden=true><i class="las la-link"></i></a> 2. Add custom login policy on your organisation </h4><ol> <li>Go to your organisation settings by clicking on "Organisation" in the menu or using the following link: <a href=https://console.zitadel.ch/org title="undefined" target=_blank>https://console.zitadel.ch/org</a></li> <li>Modify your login policy</li> <li>As long as you have the default policy, you can't change the policy. Click create custom policy to set your on settings.</li> </ol> <figure itemprop=associatedMedia itemscope itemtype=http://schema.org/ImageObject> <a href=img/console_org_custom_login_policy.gif data-size=1920x1080 itemprop=contentUrl> <img alt=add_custom_login_policy src=img/console_org_custom_login_policy.gif itemprop=thumbnail> </a> <figcaption itemprop="caption description">Add custom login policy</figcaption> </figure> <h4> <span class=offset-anchor id=3_Configure_new_identity_provider></span> <a href=guide-identity-brokering#3_Configure_new_identity_provider class=anchor aria-hidden=true><i class="las la-link"></i></a> 3.Configure new identity provider </h4><ol> <li>Go to the identity providers section and click new</li> <li>Fill out the form <ul> <li>Use the issuer, clientid and client secret provided by your provider</li> <li>The scopes will be prefilled with openid, profile and email, because this information is relevant for ZITADEL</li> <li>You can choose what fields you like to map as the display name and as username. The fields you can choose are preferred_username and email (Example: For Google you should choose email for both fields)</li> </ul> </li> <li>Save your configuration</li> <li>Link your new configuration to your login policy. By searching in the organisation category you will get you own configuration. If you choose system you can link all predefined providers.</li> </ol> <figure itemprop=associatedMedia itemscope itemtype=http://schema.org/ImageObject> <a href=img/console_org_identity_provider.gif data-size=1920x1080 itemprop=contentUrl> <img alt=configure_new_identity_provider src=img/console_org_identity_provider.gif itemprop=thumbnail> </a> <figcaption itemprop="caption description">Configure identity provider</figcaption> </figure> <p>Your user will now be able to choose Google for login instead of username/password or mfa.</p> <h3> <span class=offset-anchor id=Knowledge_Check></span> <a href=guide-identity-brokering#Knowledge_Check class=anchor aria-hidden=true><i class="las la-link"></i></a> Knowledge Check </h3><ul> <li>The issuer for your identity provider is <a href=https://issuer.zitadel.ch title="undefined" target=_blank>https://issuer.zitadel.ch</a><ul> <li><input disabled type=checkbox> yes</li> <li><input disabled type=checkbox> no</li> </ul> </li> <li>The identity provider has to be oAuth 2.0 compliant<ul> <li><input disabled type=checkbox> yes</li> <li><input disabled type=checkbox> no</li> </ul> </li> </ul> <details> <summary> Solutions </summary> <ul> <li>The issuer for your identity provider is <a href=https://issuer.zitadel.ch title="undefined" target=_blank>https://issuer.zitadel.ch</a><ul> <li><input disabled type=checkbox> yes</li> <li><input disabled type=checkbox checked> no (The issuer is provided by your choosen identity provider. In the case of Google it's <a href=https://accounts.google.com title="undefined" target=_blank>https://accounts.google.com</a>)</li> </ul> </li> <li>The identity provider has to be oAuth 2.0 compliant<ul> <li><input disabled type=checkbox checked> yes</li> <li><input disabled type=checkbox> no</li> </ul> </li> </ul> </details> <h3> <span class=offset-anchor id=Summary></span> <a href=guide-identity-brokering#Summary class=anchor aria-hidden=true><i class="las la-link"></i></a> Summary </h3><ul> <li>You can federate identities of all oAuth 2.0 compliant external identity providers</li> <li>Configure the provider in your custom login policy</li> </ul> <p>Where to go from here: </p> <ul> <li>ZITADEL Projects</li> <li>Service users</li> </ul> </section></div> <div class="svelte-him5z6 overlay"></div> <aside class="svelte-him5z6 sidebar-container"><div class="svelte-him5z6 sidebar"><button class="svelte-5en90e search-trigger"><i class="las la-search svelte-5en90e"></i> <span class=svelte-5en90e>Search this site</span> <span class="svelte-5en90e fill-space"></span> <span class="svelte-5en90e strg">Ctrl F</span></button> <ul class="svelte-7kfwfv reference-toc"><li class=svelte-7kfwfv><a href=guide-identity-brokering#Identity_Brokering class="svelte-7kfwfv section">Identity Brokering </a> <a href=guide-identity-brokering#What_is_Identity_Brokering_and_Federated_Identities class="svelte-7kfwfv subsection" data-level=3>What is Identity Brokering and Federated Identities? </a> <a href=guide-identity-brokering#Exercise_Register_an_external_identity_provider class="svelte-7kfwfv subsection" data-level=3>Exercise: Register an external identity provider </a> <a href=guide-identity-brokering#1_Create_new_OIDC_Client class="svelte-7kfwfv subsection" data-level=4>1. Create new OIDC Client </a> <a href=guide-identity-brokering#2_Add_custom_login_policy_on_your_organisation class="svelte-7kfwfv subsection" data-level=4>2. Add custom login policy on your organisation </a> <a href=guide-identity-brokering#3_Configure_new_identity_provider class="svelte-7kfwfv subsection" data-level=4>3.Configure new identity provider </a> <a href=guide-identity-brokering#Knowledge_Check class="svelte-7kfwfv subsection" data-level=3>Knowledge Check </a> <a href=guide-identity-brokering#Summary class="svelte-7kfwfv subsection" data-level=3>Summary </a> </ul></div> <button class=svelte-him5z6><i class="las la-bars" style=font-size:20px;height:20px><use xlink:href="#las la-bars"></use></i></button></aside> </main> <div class=pswp aria-hidden=true role=dialog tabindex=-1> <div class=pswp__bg></div> <div class=pswp__scroll-wrap> <div class=pswp__container><div class=pswp__item></div> <div class=pswp__item></div> <div class=pswp__item></div></div> <div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar> <div class=pswp__counter></div> <button class="pswp__button pswp__button--close" title="Close (Esc)"></button> <button class="pswp__button pswp__button--share" title=Share></button> <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button> <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button> <div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div> <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div> <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button> <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button> <div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div></div> <script>__SAPPER__={baseUrl:"",preloaded:[void 0,(function(a,b,c){return {sections:[{html:"\u003Ctable class=\"table-wrapper\"\u003E\n    \u003Ctr\u003E\n        \u003Ctd\u003EDescription\u003C\u002Ftd\u003E\n        \u003Ctd\u003ELearn about identity brokering\u002Ffederation and how to add an external identity provider to authenticate your users.\u003C\u002Ftd\u003E\n    \u003C\u002Ftr\u003E\n    \u003Ctr\u003E\n        \u003Ctd\u003ELearning Outcomes\u003C\u002Ftd\u003E\n        \u003Ctd\u003E\n            In this module you will: \n            \u003Cul\u003E\n                \u003Cli\u003ELearn about Identity Providers\u003C\u002Fli\u003E\n                \u003Cli\u003EAdd a new identity provider\u003C\u002Fli\u003E\n                \u003Cli\u003EExample with Google Login\u003C\u002Fli\u003E\n            \u003C\u002Ful\u003E\n        \u003C\u002Ftd\u003E\n    \u003C\u002Ftr\u003E\n     \u003Ctr\u003E\n        \u003Ctd\u003EPrerequisites\u003C\u002Ftd\u003E\n        \u003Ctd\u003E\n            \u003Cul\u003E\n                \u003Cli\u003EKnowledge of \u003Ca href=\"\u002Fzitadel-organizations\"\u003EZITADEL Organizations\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n            \u003C\u002Ful\u003E\n        \u003C\u002Ftd\u003E\n    \u003C\u002Ftr\u003E\n\u003C\u002Ftable\u003E\n\n\n\t\t\t\t\t\u003Ch3\u003E\n\t\t\t\t\t\t\u003Cspan id=\"What_is_Identity_Brokering_and_Federated_Identities\" class=\"offset-anchor\" \u003E\u003C\u002Fspan\u003E\n\t\t\t\t\t\t\u003Ca href=\"guide-identity-brokering#What_is_Identity_Brokering_and_Federated_Identities\" class=\"anchor\" aria-hidden=\"true\"\u003E\u003Ci class=\"las la-link\"\u003E\u003C\u002Fi\u003E\u003C\u002Fa\u003E\n\t\t\t\t\t\tWhat is Identity Brokering and Federated Identities?\n\t\t\t\t\t\u003C\u002Fh3\u003E\u003Cp\u003EFederated identity management is an arrangement built upon the trust between two or more domains. Users of these domains are allowed to access applications and services using the same identity.\nThis identity is known as federated identity and the pattern behind this as identity federation.\u003C\u002Fp\u003E\n\u003Cp\u003EA service provider that specializes in brokering access control between multiple service providers (also referred to as relying parties) is called identity broker.\nFederated identity management is an arrangement that is made between two or more such identity brokers across organizations.\u003C\u002Fp\u003E\n\u003Cp\u003EExample:\nIf Google is configured as identity provider on your organization, the user will get the option to use his Google Account on the Login Screen of ZITADEL (1).\nZITADEL will redirect the user to the login screen of Google where he as to authenticated himself (2) and is sent back after he has finished that (3). \nBecause Google is registered as trusted identity provider the user will be able to login in with the Google account after he linked an existing ZITADEL Account or just registered a new one with the claims provided by Google (4)(5).\u003C\u002Fp\u003E\n\u003Cfigure itemprop=\"associatedMedia\" itemscope itemtype=\"http:\u002F\u002Fschema.org\u002FImageObject\"\u003E\n    \u003Ca href=\"img\u002Fzitadel_identity_brokering.png\" itemprop=\"contentUrl\" data-size=\"1920x1080\"\u003E\n        \u003Cimg src=\"img\u002Fzitadel_identity_brokering.png\" itemprop=\"thumbnail\" alt=\"Zitadel Identity Brokering\" \u002F\u003E\n    \u003C\u002Fa\u003E\n    \u003Cfigcaption itemprop=\"caption description\"\u003EIdentity Brokering\u003C\u002Ffigcaption\u003E\n\u003C\u002Ffigure\u003E\n\n\n\t\t\t\t\t\u003Ch3\u003E\n\t\t\t\t\t\t\u003Cspan id=\"Exercise_Register_an_external_identity_provider\" class=\"offset-anchor\" \u003E\u003C\u002Fspan\u003E\n\t\t\t\t\t\t\u003Ca href=\"guide-identity-brokering#Exercise_Register_an_external_identity_provider\" class=\"anchor\" aria-hidden=\"true\"\u003E\u003Ci class=\"las la-link\"\u003E\u003C\u002Fi\u003E\u003C\u002Fa\u003E\n\t\t\t\t\t\tExercise: Register an external identity provider\n\t\t\t\t\t\u003C\u002Fh3\u003E\u003Cp\u003EIn this exercise we will add a new Google identity provider to federate identities with ZITADEL. \u003C\u002Fp\u003E\n\n\t\t\t\t\t\u003Ch4\u003E\n\t\t\t\t\t\t\u003Cspan id=\"1_Create_new_OIDC_Client\" class=\"offset-anchor\" \u003E\u003C\u002Fspan\u003E\n\t\t\t\t\t\t\u003Ca href=\"guide-identity-brokering#1_Create_new_OIDC_Client\" class=\"anchor\" aria-hidden=\"true\"\u003E\u003Ci class=\"las la-link\"\u003E\u003C\u002Fi\u003E\u003C\u002Fa\u003E\n\t\t\t\t\t\t1. Create new OIDC Client\n\t\t\t\t\t\u003C\u002Fh4\u003E\u003Col\u003E\n\u003Cli\u003ERegister an OIDC Client in your preferred provider\u003C\u002Fli\u003E\n\u003Cli\u003EMake sure you add the ZITADEL callback redirect uris\n\u003Ca href=\"https:\u002F\u002Faccounts.zitadel.ch\u002Fregister\u002Fexternalidp\u002Fcallback\" target=\"_blank\" title=\"undefined\"\u003Ehttps:\u002F\u002Faccounts.zitadel.ch\u002Fregister\u002Fexternalidp\u002Fcallback\u003C\u002Fa\u003E\n\u003Ca href=\"https:\u002F\u002Faccounts.zitadel.ch\u002Flogin\u002Fexternalidp\u002Fcallback\" target=\"_blank\" title=\"undefined\"\u003Ehttps:\u002F\u002Faccounts.zitadel.ch\u002Flogin\u002Fexternalidp\u002Fcallback\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Cblockquote\u003E\n\u003Cp\u003E\u003Cstrong\u003EInformation:\u003C\u002Fstrong\u003E Make sure the provider is OIDC 1.0 compliant with a proper Discovery Endpoint\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\u003Cp\u003EGoogle Example:\u003C\u002Fp\u003E\n\u003Col\u003E\n\u003Cli\u003EGo to the Google Gloud Platform and choose youre project: \u003Ca href=\"https:\u002F\u002Fconsole.cloud.google.com\u002Fapis\u002Fcredentials\" target=\"_blank\" title=\"undefined\"\u003Ehttps:\u002F\u002Fconsole.cloud.google.com\u002Fapis\u002Fcredentials\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003EClick on &quot;+ CREATE CREDENTIALS&quot; and choose &quot;OAuth client ID&quot;\u003C\u002Fli\u003E\n\u003Cli\u003EChoose Web application as Application type and give a name\u003C\u002Fli\u003E\n\u003Cli\u003EAdd the redirect uris from above\u003C\u002Fli\u003E\n\u003Cli\u003ESave clientid and client secret\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Cfigure itemprop=\"associatedMedia\" itemscope itemtype=\"http:\u002F\u002Fschema.org\u002FImageObject\"\u003E\n    \u003Ca href=\"img\u002Fgoogle_add_credentials.gif\" itemprop=\"contentUrl\" data-size=\"1920x1080\"\u003E\n        \u003Cimg src=\"img\u002Fgoogle_add_credentials.gif\" itemprop=\"thumbnail\" alt=\"google_add_oauth_credentials\" \u002F\u003E\n    \u003C\u002Fa\u003E\n    \u003Cfigcaption itemprop=\"caption description\"\u003EAdd new oAuth credentials in Google Console\u003C\u002Ffigcaption\u003E\n\u003C\u002Ffigure\u003E\n\n\n\t\t\t\t\t\u003Ch4\u003E\n\t\t\t\t\t\t\u003Cspan id=\"2_Add_custom_login_policy_on_your_organisation\" class=\"offset-anchor\" \u003E\u003C\u002Fspan\u003E\n\t\t\t\t\t\t\u003Ca href=\"guide-identity-brokering#2_Add_custom_login_policy_on_your_organisation\" class=\"anchor\" aria-hidden=\"true\"\u003E\u003Ci class=\"las la-link\"\u003E\u003C\u002Fi\u003E\u003C\u002Fa\u003E\n\t\t\t\t\t\t2. Add custom login policy on your organisation\n\t\t\t\t\t\u003C\u002Fh4\u003E\u003Col\u003E\n\u003Cli\u003EGo to your organisation settings by clicking on &quot;Organisation&quot; in the menu or using the following link: \u003Ca href=\"https:\u002F\u002Fconsole.zitadel.ch\u002Forg\" target=\"_blank\" title=\"undefined\"\u003Ehttps:\u002F\u002Fconsole.zitadel.ch\u002Forg\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003EModify your login policy\u003C\u002Fli\u003E\n\u003Cli\u003EAs long as you have the default policy, you can&#39;t change the policy. Click create custom policy to set your on settings.\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Cfigure itemprop=\"associatedMedia\" itemscope itemtype=\"http:\u002F\u002Fschema.org\u002FImageObject\"\u003E\n    \u003Ca href=\"img\u002Fconsole_org_custom_login_policy.gif\" itemprop=\"contentUrl\" data-size=\"1920x1080\"\u003E\n        \u003Cimg src=\"img\u002Fconsole_org_custom_login_policy.gif\" itemprop=\"thumbnail\" alt=\"add_custom_login_policy\" \u002F\u003E\n    \u003C\u002Fa\u003E\n    \u003Cfigcaption itemprop=\"caption description\"\u003EAdd custom login policy\u003C\u002Ffigcaption\u003E\n\u003C\u002Ffigure\u003E\n\n\n\t\t\t\t\t\u003Ch4\u003E\n\t\t\t\t\t\t\u003Cspan id=\"3_Configure_new_identity_provider\" class=\"offset-anchor\" \u003E\u003C\u002Fspan\u003E\n\t\t\t\t\t\t\u003Ca href=\"guide-identity-brokering#3_Configure_new_identity_provider\" class=\"anchor\" aria-hidden=\"true\"\u003E\u003Ci class=\"las la-link\"\u003E\u003C\u002Fi\u003E\u003C\u002Fa\u003E\n\t\t\t\t\t\t3.Configure new identity provider\n\t\t\t\t\t\u003C\u002Fh4\u003E\u003Col\u003E\n\u003Cli\u003EGo to the identity providers section and click new\u003C\u002Fli\u003E\n\u003Cli\u003EFill out the form \u003Cul\u003E\n\u003Cli\u003EUse the issuer, clientid and client secret provided by your provider\u003C\u002Fli\u003E\n\u003Cli\u003EThe scopes will be prefilled with openid, profile and email, because this information is relevant for ZITADEL\u003C\u002Fli\u003E\n\u003Cli\u003EYou can choose what fields you like to map as the display name and as username. The fields you can choose are preferred_username and email\n(Example: For Google you should choose email for both fields)\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003ESave your configuration\u003C\u002Fli\u003E\n\u003Cli\u003ELink your new configuration to your login policy. By searching in the organisation category you will get you own configuration. If you choose system you can link all predefined providers.\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Cfigure itemprop=\"associatedMedia\" itemscope itemtype=\"http:\u002F\u002Fschema.org\u002FImageObject\"\u003E\n    \u003Ca href=\"img\u002Fconsole_org_identity_provider.gif\" itemprop=\"contentUrl\" data-size=\"1920x1080\"\u003E\n        \u003Cimg src=\"img\u002Fconsole_org_identity_provider.gif\" itemprop=\"thumbnail\" alt=\"configure_new_identity_provider\" \u002F\u003E\n    \u003C\u002Fa\u003E\n    \u003Cfigcaption itemprop=\"caption description\"\u003EConfigure identity provider\u003C\u002Ffigcaption\u003E\n\u003C\u002Ffigure\u003E\n\n\u003Cp\u003EYour user will now be able to choose Google for login instead of username\u002Fpassword or mfa.\u003C\u002Fp\u003E\n\n\t\t\t\t\t\u003Ch3\u003E\n\t\t\t\t\t\t\u003Cspan id=\"Knowledge_Check\" class=\"offset-anchor\" \u003E\u003C\u002Fspan\u003E\n\t\t\t\t\t\t\u003Ca href=\"guide-identity-brokering#Knowledge_Check\" class=\"anchor\" aria-hidden=\"true\"\u003E\u003Ci class=\"las la-link\"\u003E\u003C\u002Fi\u003E\u003C\u002Fa\u003E\n\t\t\t\t\t\tKnowledge Check\n\t\t\t\t\t\u003C\u002Fh3\u003E\u003Cul\u003E\n\u003Cli\u003EThe issuer for your identity provider is \u003Ca href=\"https:\u002F\u002Fissuer.zitadel.ch\" target=\"_blank\" title=\"undefined\"\u003Ehttps:\u002F\u002Fissuer.zitadel.ch\u003C\u002Fa\u003E\u003Cul\u003E\n\u003Cli\u003E\u003Cinput disabled=\"\" type=\"checkbox\"\u003E yes\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Cinput disabled=\"\" type=\"checkbox\"\u003E no\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003EThe identity provider has to be oAuth 2.0 compliant\u003Cul\u003E\n\u003Cli\u003E\u003Cinput disabled=\"\" type=\"checkbox\"\u003E yes\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Cinput disabled=\"\" type=\"checkbox\"\u003E no\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cdetails\u003E\n    \u003Csummary\u003E\n        Solutions\n    \u003C\u002Fsummary\u003E\n\n\u003Cul\u003E\n\u003Cli\u003EThe issuer for your identity provider is \u003Ca href=\"https:\u002F\u002Fissuer.zitadel.ch\" target=\"_blank\" title=\"undefined\"\u003Ehttps:\u002F\u002Fissuer.zitadel.ch\u003C\u002Fa\u003E\u003Cul\u003E\n\u003Cli\u003E\u003Cinput disabled=\"\" type=\"checkbox\"\u003E yes\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Cinput checked=\"\" disabled=\"\" type=\"checkbox\"\u003E no (The issuer is provided by your choosen identity provider. In the case of Google it&#39;s \u003Ca href=\"https:\u002F\u002Faccounts.google.com\" target=\"_blank\" title=\"undefined\"\u003Ehttps:\u002F\u002Faccounts.google.com\u003C\u002Fa\u003E)\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003EThe identity provider has to be oAuth 2.0 compliant\u003Cul\u003E\n\u003Cli\u003E\u003Cinput checked=\"\" disabled=\"\" type=\"checkbox\"\u003E yes\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Cinput disabled=\"\" type=\"checkbox\"\u003E no\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fdetails\u003E\n\n\n\t\t\t\t\t\u003Ch3\u003E\n\t\t\t\t\t\t\u003Cspan id=\"Summary\" class=\"offset-anchor\" \u003E\u003C\u002Fspan\u003E\n\t\t\t\t\t\t\u003Ca href=\"guide-identity-brokering#Summary\" class=\"anchor\" aria-hidden=\"true\"\u003E\u003Ci class=\"las la-link\"\u003E\u003C\u002Fi\u003E\u003C\u002Fa\u003E\n\t\t\t\t\t\tSummary\n\t\t\t\t\t\u003C\u002Fh3\u003E\u003Cul\u003E\n\u003Cli\u003EYou can federate identities of all oAuth 2.0 compliant external identity providers\u003C\u002Fli\u003E\n\u003Cli\u003EConfigure the provider in your custom login policy\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EWhere to go from here: \u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EZITADEL Projects\u003C\u002Fli\u003E\n\u003Cli\u003EService users\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n",metadata:{title:"Identity Brokering",tags:"developer, organisation manager",readingtime:"15min"},subsections:[{slug:"What_is_Identity_Brokering_and_Federated_Identities",title:"What is Identity Brokering and Federated Identities?",level:a},{slug:"Exercise_Register_an_external_identity_provider",title:"Exercise: Register an external identity provider",level:a},{slug:"1_Create_new_OIDC_Client",title:"1. Create new OIDC Client",level:b},{slug:"2_Add_custom_login_policy_on_your_organisation",title:"2. Add custom login policy on your organisation",level:b},{slug:"3_Configure_new_identity_provider",title:"3.Configure new identity provider",level:b},{slug:"Knowledge_Check",title:"Knowledge Check",level:a},{slug:c,title:c,level:a}],slug:"Identity_Brokering",file:"00-guide-identity-brokering.md"}],seo:"",slug:"guide-identity-brokering"}}(3,4,"Summary"))]};if('serviceWorker' in navigator)navigator.serviceWorker.register('/service-worker.js');(function(){try{eval("async function x(){}");var main="/client/client.cf423e37.js"}catch(e){main="/client/legacy/client.dd68c871.js"};var s=document.createElement("script");try{new Function("if(0)import('')")();s.src=main;s.type="module";s.crossOrigin="use-credentials";}catch(e){s.src="/client/shimport@2.0.5.js";s.setAttribute("data-main",main);}document.head.appendChild(s);}());</script> 